
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>7.11. Options related to a particular phase &mdash; Glasgow Haskell Compiler 8.2.2 User&#39;s Guide</title>
    
    <link rel="stylesheet" href="_static/ghc-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '8.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Glasgow Haskell Compiler 8.2.2 User&#39;s Guide"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Glasgow Haskell Compiler 8.2.2 User&#39;s Guide" href="index.html" />
    <link rel="up" title="7. Using GHC" href="usage.html" />
    <link rel="next" title="7.12. Using shared libraries" href="shared_libs.html" />
    <link rel="prev" title="7.10. GHC Backends" href="codegens.html" /> 
  </head>
  <body>
<div class="logo">
    <h1><a href="index.html">Glasgow Haskell Compiler User's Guide</a></h1>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="shared_libs.html" title="7.12. Using shared libraries"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="codegens.html" title="7.10. GHC Backends"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">GHC 8.2.2 User&#39;s Guide</a> &raquo;</li>
          <li><a href="usage.html" accesskey="U">7. Using GHC</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="phases.html#">7.11. Options related to a particular phase</a><ul>
<li><a class="reference internal" href="phases.html#replacing-the-program-for-one-or-more-phases">7.11.1. Replacing the program for one or more phases</a></li>
<li><a class="reference internal" href="phases.html#forcing-options-to-a-particular-phase">7.11.2. Forcing options to a particular phase</a></li>
<li><a class="reference internal" href="phases.html#options-affecting-the-c-pre-processor">7.11.3. Options affecting the C pre-processor</a><ul>
<li><a class="reference internal" href="phases.html#standard-cpp-macros">7.11.3.1. Standard CPP macros</a></li>
<li><a class="reference internal" href="phases.html#cpp-and-string-gaps">7.11.3.2. CPP and string gaps</a></li>
</ul>
</li>
<li><a class="reference internal" href="phases.html#options-affecting-a-haskell-pre-processor">7.11.4. Options affecting a Haskell pre-processor</a></li>
<li><a class="reference internal" href="phases.html#options-affecting-code-generation">7.11.5. Options affecting code generation</a></li>
<li><a class="reference internal" href="phases.html#options-affecting-linking">7.11.6. Options affecting linking</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="codegens.html"
                        title="previous chapter">7.10. GHC Backends</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="shared_libs.html"
                        title="next chapter">7.12. Using shared libraries</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/phases.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="options-related-to-a-particular-phase">
<span id="options-phases"></span><h1>7.11. Options related to a particular phase<a class="headerlink" href="phases.html#options-related-to-a-particular-phase" title="Permalink to this headline">¶</a></h1>
<div class="section" id="replacing-the-program-for-one-or-more-phases">
<span id="replacing-phases"></span><h2>7.11.1. Replacing the program for one or more phases<a class="headerlink" href="phases.html#replacing-the-program-for-one-or-more-phases" title="Permalink to this headline">¶</a></h2>
<p id="index-0">You may specify that a different program be used for one of the phases
of the compilation system, in place of whatever the <tt class="docutils literal"><span class="pre">ghc</span></tt> has wired
into it. For example, you might want to try a different assembler. The
following options allow you to change the external program used for a
given compilation phase:</p>
<dl class="ghc-flag">
<dt id="ghc-flag--pgmL ⟨cmd⟩">
<tt class="descname">-pgmL</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmL ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the literate pre-processor.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmP ⟨cmd⟩">
<tt class="descname">-pgmP</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmP ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the C pre-processor (with <tt class="docutils literal"><span class="pre">-cpp</span></tt> only).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmc ⟨cmd⟩">
<tt class="descname">-pgmc</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmc ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the C compiler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmlo ⟨cmd⟩">
<tt class="descname">-pgmlo</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmlo ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the LLVM optimiser.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmlc ⟨cmd⟩">
<tt class="descname">-pgmlc</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmlc ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the LLVM compiler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgms ⟨cmd⟩">
<tt class="descname">-pgms</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgms ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the splitter.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgma ⟨cmd⟩">
<tt class="descname">-pgma</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgma ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the assembler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgml ⟨cmd⟩">
<tt class="descname">-pgml</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgml ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the linker.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmdll ⟨cmd⟩">
<tt class="descname">-pgmdll</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmdll ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the DLL generator.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmF ⟨cmd⟩">
<tt class="descname">-pgmF</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmF ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the pre-processor (with <tt class="docutils literal"><span class="pre">-F</span></tt> only).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmwindres ⟨cmd⟩">
<tt class="descname">-pgmwindres</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmwindres ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the program to use for embedding manifests on Windows.
Normally this is the program <tt class="docutils literal"><span class="pre">windres</span></tt>, which is supplied with a
GHC installation. See <tt class="docutils literal"><span class="pre">-fno-embed-manifest</span></tt> in
<a class="reference internal" href="phases.html#options-linker"><em>Options affecting linking</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmlibtool ⟨cmd⟩">
<tt class="descname">-pgmlibtool</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmlibtool ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the libtool command (when using <tt class="docutils literal"><span class="pre">-staticlib</span></tt> only).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--pgmi ⟨cmd⟩">
<tt class="descname">-pgmi</tt><tt class="descclassname"> ⟨cmd⟩</tt><a class="headerlink" href="phases.html#ghc-flag--pgmi ⟨cmd⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ⟨cmd⟩ as the external interpreter command (see:
<a class="reference internal" href="ghci.html#external-interpreter"><em>Running the interpreter in a separate process</em></a>).  Default: <tt class="docutils literal"><span class="pre">ghc-iserv-prof</span></tt> if
<tt class="docutils literal"><span class="pre">-prof</span></tt> is enabled, <tt class="docutils literal"><span class="pre">ghc-iserv-dyn</span></tt> if <tt class="docutils literal"><span class="pre">-dynamic</span></tt> is
enabled, or <tt class="docutils literal"><span class="pre">ghc-iserv</span></tt> otherwise.</p>
</dd></dl>

</div>
<div class="section" id="forcing-options-to-a-particular-phase">
<span id="forcing-options-through"></span><h2>7.11.2. Forcing options to a particular phase<a class="headerlink" href="phases.html#forcing-options-to-a-particular-phase" title="Permalink to this headline">¶</a></h2>
<p id="index-1">Options can be forced through to a particular compilation phase, using
the following flags:</p>
<dl class="ghc-flag">
<dt id="ghc-flag--optL ⟨option⟩">
<tt class="descname">-optL</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optL ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the literate pre-processor</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optP ⟨option⟩">
<tt class="descname">-optP</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optP ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to CPP (makes sense only if <tt class="docutils literal"><span class="pre">-cpp</span></tt> is also on).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optF ⟨option⟩">
<tt class="descname">-optF</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optF ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the custom pre-processor (see
<a class="reference internal" href="phases.html#pre-processor"><em>Options affecting a Haskell pre-processor</em></a>).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optc ⟨option⟩">
<tt class="descname">-optc</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optc ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the C compiler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optlo ⟨option⟩">
<tt class="descname">-optlo</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optlo ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the LLVM optimiser.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optlc ⟨option⟩">
<tt class="descname">-optlc</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optlc ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the LLVM compiler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--opta ⟨option⟩">
<tt class="descname">-opta</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--opta ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the assembler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optl ⟨option⟩">
<tt class="descname">-optl</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optl ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the linker.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optdll ⟨option⟩">
<tt class="descname">-optdll</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optdll ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the DLL generator.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--optwindres ⟨option⟩">
<tt class="descname">-optwindres</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--optwindres ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to <tt class="docutils literal"><span class="pre">windres</span></tt> when embedding manifests on Windows.
See <tt class="docutils literal"><span class="pre">-fno-embed-manifest</span></tt> in <a class="reference internal" href="phases.html#options-linker"><em>Options affecting linking</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--opti ⟨option⟩">
<tt class="descname">-opti</tt><tt class="descclassname"> ⟨option⟩</tt><a class="headerlink" href="phases.html#ghc-flag--opti ⟨option⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass ⟨option⟩ to the interpreter sub-process (see
<a class="reference internal" href="ghci.html#external-interpreter"><em>Running the interpreter in a separate process</em></a>).  A common use for this is to pass
RTS options e.g., <tt class="docutils literal"><span class="pre">-opti+RTS</span> <span class="pre">-opti-A64m</span></tt>, or to enable verbosity
with <tt class="docutils literal"><span class="pre">-opti-v</span></tt> to see what messages are being exchanged by GHC
and the interpreter.</p>
</dd></dl>

<p>So, for example, to force an <tt class="docutils literal"><span class="pre">-Ewurble</span></tt> option to the assembler, you
would tell the driver <tt class="docutils literal"><span class="pre">-opta-Ewurble</span></tt> (the dash before the E is
required).</p>
<p>GHC is itself a Haskell program, so if you need to pass options directly
to GHC&#8217;s runtime system you can enclose them in <tt class="docutils literal"><span class="pre">+RTS</span> <span class="pre">...</span> <span class="pre">-RTS</span></tt> (see
<a class="reference internal" href="runtime_control.html#runtime-control"><em>Running a compiled program</em></a>).</p>
</div>
<div class="section" id="options-affecting-the-c-pre-processor">
<span id="c-pre-processor"></span><h2>7.11.3. Options affecting the C pre-processor<a class="headerlink" href="phases.html#options-affecting-the-c-pre-processor" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-2"></span><dl class="ghc-flag">
<dt id="ghc-flag--cpp">
<tt class="descname">-cpp</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--cpp" title="Permalink to this definition">¶</a></dt>
<dd><p>The C pre-processor <strong class="command">cpp</strong> is run over your Haskell code only if
the <tt class="docutils literal"><span class="pre">-cpp</span></tt> option -cpp option is given. Unless you are building a
large system with significant doses of conditional compilation, you
really shouldn&#8217;t need it.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--D⟨symbol⟩[=⟨value⟩]">
<tt class="descname">-D⟨symbol⟩</tt><tt class="descclassname">[=⟨value⟩]</tt><a class="headerlink" href="phases.html#ghc-flag--D⟨symbol⟩[=⟨value⟩]" title="Permalink to this definition">¶</a></dt>
<dd><p>Define macro ⟨symbol⟩ in the usual way. When no value is given, the value is
taken to be <tt class="docutils literal"><span class="pre">1</span></tt>. For instance, <tt class="docutils literal"><span class="pre">-DUSE_MYLIB</span></tt> is equivalent to
<tt class="docutils literal"><span class="pre">-DUSE_MYLIB=1</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="phases.html#ghc-flag--D⟨symbol⟩[=⟨value⟩]"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-D⟨symbol⟩[=⟨value⟩]</span></tt></a> does <em>not</em> affect <tt class="docutils literal"><span class="pre">-D</span></tt>
macros passed to the C&nbsp;compiler when compiling an unregisterised build! In
this case use the <tt class="docutils literal"><span class="pre">-optc-Dfoo</span></tt> hack… (see <a class="reference internal" href="phases.html#forcing-options-through"><em>Forcing options to a particular phase</em></a>).</p>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--U⟨symbol⟩">
<tt class="descname">-U⟨symbol⟩</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--U⟨symbol⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Undefine macro ⟨symbol⟩ in the usual way.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--I⟨dir⟩">
<tt class="descname">-I⟨dir⟩</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--I⟨dir⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a directory in which to look for <tt class="docutils literal"><span class="pre">#include</span></tt> files, in the
usual C way.</p>
</dd></dl>

<p>The GHC driver pre-defines several macros when processing Haskell source
code (<tt class="docutils literal"><span class="pre">.hs</span></tt> or <tt class="docutils literal"><span class="pre">.lhs</span></tt> files).</p>
<div class="section" id="standard-cpp-macros">
<span id="id1"></span><h3>7.11.3.1. Standard CPP macros<a class="headerlink" href="phases.html#standard-cpp-macros" title="Permalink to this headline">¶</a></h3>
<p>The symbols defined by GHC are listed below. To check which symbols are
defined by your local GHC installation, the following trick is useful:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>ghc -E -optP-dM -cpp foo.hs
<span class="nv">$ </span>cat foo.hspp
</pre></div>
</div>
<p>(you need a file <tt class="docutils literal"><span class="pre">foo.hs</span></tt>, but it isn&#8217;t actually used).</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL__</span></tt></dt>
<dd><p class="first" id="index-3">For version <tt class="docutils literal"><span class="pre">x.y.z</span></tt> of GHC, the value of <tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL__</span></tt>
is the integer ⟨xyy⟩ (if ⟨y⟩ is a single digit, then a leading zero
is added, so for example in version 6.2 of GHC,
<tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL__==602</span></tt>). More information in
<a class="reference internal" href="intro.html#version-numbering"><em>GHC version numbering policy</em></a>.</p>
<p>With any luck, <tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL__</span></tt> will be undefined in all
other implementations that support C-style pre-processing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The comparable symbols for other systems are:
<tt class="docutils literal"><span class="pre">__HUGS__</span></tt> for Hugs, <tt class="docutils literal"><span class="pre">__NHC__</span></tt> for nhc98, and <tt class="docutils literal"><span class="pre">__HBC__</span></tt> for
hbc).</p>
</div>
<p class="last">NB. This macro is set when pre-processing both Haskell source and C
source, including the C source generated from a Haskell module (i.e.
<tt class="docutils literal"><span class="pre">.hs</span></tt>, <tt class="docutils literal"><span class="pre">.lhs</span></tt>, <tt class="docutils literal"><span class="pre">.c</span></tt> and <tt class="docutils literal"><span class="pre">.hc</span></tt> files).</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_PATCHLEVEL1__</span></tt>; <tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_PATCHLEVEL2__</span></tt></dt>
<dd><span class="target" id="index-4"></span><p class="first" id="index-5">These macros are available starting with GHC 7.10.1.</p>
<p>For three-part GHC version numbers <tt class="docutils literal"><span class="pre">x.y.z</span></tt>, the value of
<tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_PATCHLEVEL1__</span></tt> is the integer ⟨z⟩.</p>
<p>For four-part GHC version numbers <tt class="docutils literal"><span class="pre">x.y.z.z'</span></tt>, the value of
<tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_PATCHLEVEL1__</span></tt> is the integer ⟨z⟩ while the
value of <tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_PATCHLEVEL2__</span></tt> is set to the integer
⟨z&#8217;⟩.</p>
<p>These macros are provided for allowing finer granularity than is
provided by <tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL__</span></tt>. Usually, this should not be
necessary as it&#8217;s expected for most APIs to remain stable between
patchlevel releases, but occasionally internal API changes are
necessary to fix bugs. Also conditional compilation on the
patchlevel can be useful for working around bugs in older releases.</p>
<div class="last admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">These macros are set when pre-processing both Haskell source and
C source, including the C source generated from a Haskell module
(i.e. <tt class="docutils literal"><span class="pre">.hs</span></tt>, <tt class="docutils literal"><span class="pre">.lhs</span></tt>, <tt class="docutils literal"><span class="pre">.c</span></tt> and <tt class="docutils literal"><span class="pre">.hc</span></tt> files).</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">MIN_VERSION_GLASGOW_HASKELL(x,y,z,z')</span></tt></dt>
<dd><p class="first" id="index-6">This macro is available starting with GHC 7.10.1.</p>
<p>This macro is provided for convenience to write CPP conditionals
testing whether the GHC version used is version <tt class="docutils literal"><span class="pre">x.y.z.z'</span></tt> or
later.</p>
<p>If compatibility with Haskell compilers (including GHC prior to
version 7.10.1) which do not define <tt class="docutils literal"><span class="pre">MIN_VERSION_GLASGOW_HASKELL</span></tt>
is required, the presence of the <tt class="docutils literal"><span class="pre">MIN_VERSION_GLASGOW_HASKELL</span></tt>
macro needs to be ensured before it is called, e.g.:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#ifdef MIN_VERSION_GLASGOW_HASKELL</span>
<span class="cp">#if MIN_VERSION_GLASGOW_HASKELL(7,10,2,0)</span>
<span class="cm">/* code that applies only to GHC 7.10.2 or later */</span>
<span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<div class="last admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">This macro is set when pre-processing both Haskell source and C
source, including the C source generated from a Haskell module (i.e.
<tt class="docutils literal"><span class="pre">.hs</span></tt>, <tt class="docutils literal"><span class="pre">.lhs</span></tt>, <tt class="docutils literal"><span class="pre">.c</span></tt> and <tt class="docutils literal"><span class="pre">.hc</span></tt> files).</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_TH__</span></tt></dt>
<dd><p class="first last" id="index-7">This is set to <tt class="docutils literal"><span class="pre">1</span></tt> when the compiler supports Template Haskell,
and to <tt class="docutils literal"><span class="pre">0</span></tt> when not. The latter is the case for a stage-1
compiler during bootstrapping, or on architectures where the
interpreter is not available.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_LLVM__</span></tt></dt>
<dd><p class="first last" id="index-8">Only defined when <tt class="docutils literal"><span class="pre">-fllvm</span></tt> is specified. When GHC is using version
<tt class="docutils literal"><span class="pre">x.y.z</span></tt> of LLVM, the value of <tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_LLVM__</span></tt> is the
integer ⟨xyy⟩ (if ⟨y⟩ is a single digit, then a leading zero
is added, so for example when using version 3.7 of LLVM,
<tt class="docutils literal"><span class="pre">__GLASGOW_HASKELL_LLVM__==307</span></tt>).</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">__PARALLEL_HASKELL__</span></tt></dt>
<dd><p class="first last" id="index-9">Only defined when <tt class="docutils literal"><span class="pre">-parallel</span></tt> is in use! This symbol is defined
when pre-processing Haskell (input) and pre-processing C (GHC
output).</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">os_HOST_OS=1</span></tt></dt>
<dd>This define allows conditional compilation based on the Operating
System, where⟨os⟩ is the name of the current Operating System (eg.
<tt class="docutils literal"><span class="pre">linux</span></tt>, <tt class="docutils literal"><span class="pre">mingw32</span></tt> for Windows, <tt class="docutils literal"><span class="pre">solaris</span></tt>, etc.).</dd>
<dt><tt class="docutils literal"><span class="pre">arch_HOST_ARCH=1</span></tt></dt>
<dd>This define allows conditional compilation based on the host
architecture, where⟨arch⟩ is the name of the current architecture
(eg. <tt class="docutils literal"><span class="pre">i386</span></tt>, <tt class="docutils literal"><span class="pre">x86_64</span></tt>, <tt class="docutils literal"><span class="pre">powerpc</span></tt>, <tt class="docutils literal"><span class="pre">sparc</span></tt>, etc.).</dd>
<dt><tt class="docutils literal"><span class="pre">VERSION_pkgname</span></tt></dt>
<dd>This macro is available starting GHC 8.0.  It is defined for every
exposed package. This macro expands to a string recording the
version of <tt class="docutils literal"><span class="pre">pkgname</span></tt> that is exposed for module import.
It is identical in behavior to the <tt class="docutils literal"><span class="pre">VERSION_pkgname</span></tt> macros
that Cabal defines.</dd>
<dt><tt class="docutils literal"><span class="pre">MIN_VERSION_pkgname(x,y,z)</span></tt></dt>
<dd>This macro is available starting GHC 8.0.  It is defined for every
exposed package. This macro is provided for convenience to write CPP
conditionals testing if a package version is <tt class="docutils literal"><span class="pre">x.y.z</span></tt> or
later.  It is identical in behavior to the <tt class="docutils literal"><span class="pre">MIN_VERSION_pkgname</span></tt>
macros that Cabal defines.</dd>
</dl>
</div>
<div class="section" id="cpp-and-string-gaps">
<span id="cpp-string-gaps"></span><h3>7.11.3.2. CPP and string gaps<a class="headerlink" href="phases.html#cpp-and-string-gaps" title="Permalink to this headline">¶</a></h3>
<p id="index-10">A small word of warning: <a class="reference internal" href="phases.html#ghc-flag--cpp"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-cpp</span></tt></a> is not friendly to &#8220;string gaps&#8221;.
In other words, strings such as the following:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">strmod</span> <span class="ow">=</span> <span class="s">&quot;</span><span class="se">\</span>
<span class="se">\</span><span class="s"> p </span><span class="se">\</span>
<span class="se">\</span><span class="s"> &quot;</span>
</pre></div>
</div>
<p>don&#8217;t work with <a class="reference internal" href="phases.html#ghc-flag--cpp"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-cpp</span></tt></a>; <strong class="command">/usr/bin/cpp</strong> elides the backslash-newline
pairs.</p>
<p>However, it appears that if you add a space at the end of the line, then
<tt class="docutils literal"><span class="pre">cpp</span></tt> (at least GNU <tt class="docutils literal"><span class="pre">cpp</span></tt> and possibly other <tt class="docutils literal"><span class="pre">cpp</span></tt>s) leaves the
backslash-space pairs alone and the string gap works as expected.</p>
</div>
</div>
<div class="section" id="options-affecting-a-haskell-pre-processor">
<span id="pre-processor"></span><h2>7.11.4. Options affecting a Haskell pre-processor<a class="headerlink" href="phases.html#options-affecting-a-haskell-pre-processor" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-11"></span><dl class="ghc-flag">
<dt id="ghc-flag--F">
<tt class="descname">-F</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--F" title="Permalink to this definition">¶</a></dt>
<dd><p>A custom pre-processor is run over your Haskell source file only if
the <tt class="docutils literal"><span class="pre">-F</span></tt> option is given.</p>
<p>Running a custom pre-processor at compile-time is in some settings
appropriate and useful. The <tt class="docutils literal"><span class="pre">-F</span></tt> option lets you run a
pre-processor as part of the overall GHC compilation pipeline, which
has the advantage over running a Haskell pre-processor separately in
that it works in interpreted mode and you can continue to take reap
the benefits of GHC&#8217;s recompilation checker.</p>
<p>The pre-processor is run just before the Haskell compiler proper
processes the Haskell input, but after the literate markup has been
stripped away and (possibly) the C pre-processor has washed the
Haskell input.</p>
<p>Use <a class="reference internal" href="phases.html#ghc-flag--pgmF ⟨cmd⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-pgmF</span> <span class="pre">⟨cmd⟩</span></tt></a> to select the program to use as the
preprocessor.  When invoked, the ⟨cmd⟩ pre-processor is given at least
three arguments on its command-line: the first argument is the name of the
original source file, the second is the name of the file holding the input,
and the third is the name of the file where ⟨cmd⟩ should write its output
to.</p>
<p>Additional arguments to the pre-processor can be passed in using the
<a class="reference internal" href="phases.html#ghc-flag--optF ⟨option⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-optF</span> <span class="pre">⟨option⟩</span></tt></a> option. These are fed to ⟨cmd⟩ on the command
line after the three standard input and output arguments.</p>
<p>An example of a pre-processor is to convert your source files to the
input encoding that GHC expects, i.e. create a script <tt class="docutils literal"><span class="pre">convert.sh</span></tt>
containing the lines:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/sh</span>
<span class="o">(</span> <span class="nb">echo</span> <span class="s2">&quot;{-# LINE 1 \&quot;</span><span class="nv">$2</span><span class="s2">\&quot; #-}&quot;</span> <span class="p">;</span> iconv -f l1 -t utf-8 <span class="nv">$2</span> <span class="o">)</span> &gt; <span class="nv">$3</span>
</pre></div>
</div>
<p>and pass <tt class="docutils literal"><span class="pre">-F</span> <span class="pre">-pgmF</span> <span class="pre">convert.sh</span></tt> to GHC. The <tt class="docutils literal"><span class="pre">-f</span> <span class="pre">l1</span></tt> option tells
iconv to convert your Latin-1 file, supplied in argument <tt class="docutils literal"><span class="pre">$2</span></tt>,
while the &#8220;-t utf-8&#8221; options tell iconv to return a UTF-8 encoded
file. The result is redirected into argument <tt class="docutils literal"><span class="pre">$3</span></tt>. The
<tt class="docutils literal"><span class="pre">echo</span> <span class="pre">&quot;{-#</span> <span class="pre">LINE</span> <span class="pre">1</span> <span class="pre">\&quot;$2\&quot;</span> <span class="pre">#-}&quot;</span></tt> just makes sure that your error
positions are reported as in the original source file.</p>
</dd></dl>

</div>
<div class="section" id="options-affecting-code-generation">
<span id="options-codegen"></span><h2>7.11.5. Options affecting code generation<a class="headerlink" href="phases.html#options-affecting-code-generation" title="Permalink to this headline">¶</a></h2>
<dl class="ghc-flag">
<dt id="ghc-flag--fasm">
<tt class="descname">-fasm</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fasm" title="Permalink to this definition">¶</a></dt>
<dd><p>Use GHC&#8217;s <a class="reference internal" href="codegens.html#native-code-gen"><em>native code generator</em></a> rather than
compiling via LLVM. <tt class="docutils literal"><span class="pre">-fasm</span></tt> is the default.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fllvm">
<tt class="descname">-fllvm</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fllvm" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile via <a class="reference internal" href="codegens.html#llvm-code-gen"><em>LLVM</em></a> instead of using the native
code generator. This will generally take slightly longer than the
native code generator to compile. Produced code is generally the
same speed or faster than the other two code generators. Compiling
via LLVM requires LLVM&#8217;s <strong class="command">opt</strong> and <strong class="command">llc</strong> executables to be
in <span class="target" id="index-12"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fno-code">
<tt class="descname">-fno-code</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fno-code" title="Permalink to this definition">¶</a></dt>
<dd><p>Omit code generation (and all later phases) altogether. This is
useful if you&#8217;re only interested in type checking code.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fwrite-interface">
<tt class="descname">-fwrite-interface</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fwrite-interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Always write interface files. GHC will normally write interface
files automatically, but this flag is useful with <a class="reference internal" href="phases.html#ghc-flag--fno-code"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fno-code</span></tt></a>,
which normally suppresses generation of interface files. This is
useful if you want to type check over multiple runs of GHC without
compiling dependencies.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fobject-code">
<tt class="descname">-fobject-code</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fobject-code" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate object code. This is the default outside of GHCi, and can
be used with GHCi to cause object code to be generated in preference
to bytecode.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fbyte-code">
<tt class="descname">-fbyte-code</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fbyte-code" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate byte-code instead of object-code. This is the default in
GHCi. Byte-code can currently only be used in the interactive
interpreter, not saved to disk. This option is only useful for
reversing the effect of <a class="reference internal" href="phases.html#ghc-flag--fobject-code"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fobject-code</span></tt></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fPIC">
<tt class="descname">-fPIC</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fPIC" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate position-independent code (code that can be put into shared
libraries). This currently works on Linux x86 and x86-64. On
Windows, position-independent code is never used so the flag is a
no-op on that platform.</p>
</dd></dl>

<dl class="ghc-flag">
<dt>
<tt class="descname">-dynamic</tt><tt class="descclassname"></tt></dt>
<dd><p>When generating code, assume that entities imported from a different
package will be dynamically linked. This can reduce code size
tremendously, but may slow-down cross-package calls of non-inlined
functions. There can be some complications combining <a class="reference internal" href="phases.html#ghc-flag--shared"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-shared</span></tt></a>
with this flag relating to linking in the RTS under Linux. See
<a class="reference external" href="https://ghc.haskell.org/trac/ghc/ticket/10352">Trac #10352</a>.</p>
<p>Note that using this option when linking causes GHC to link against
shared libraries.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--dynamic-too">
<tt class="descname">-dynamic-too</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--dynamic-too" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates both dynamic and static object files in a single run of
GHC. This option is functionally equivalent to running GHC twice,
the second time adding <tt class="docutils literal"><span class="pre">-dynamic</span> <span class="pre">-osuf</span> <span class="pre">dyn_o</span> <span class="pre">-hisuf</span> <span class="pre">dyn_hi</span></tt>.</p>
<p>Although it is equivalent to running GHC twice, using
<tt class="docutils literal"><span class="pre">-dynamic-too</span></tt> is more efficient, because the earlier phases of
the compiler up to code generation are performed just once.</p>
<p>When using <tt class="docutils literal"><span class="pre">-dynamic-too</span></tt>, the options <tt class="docutils literal"><span class="pre">-dyno</span></tt>, <tt class="docutils literal"><span class="pre">-dynosuf</span></tt>,
and <tt class="docutils literal"><span class="pre">-dynhisuf</span></tt> are the counterparts of <tt class="docutils literal"><span class="pre">-o</span></tt>, <tt class="docutils literal"><span class="pre">-osuf</span></tt>, and
<tt class="docutils literal"><span class="pre">-hisuf</span></tt> respectively, but applying to the dynamic compilation.</p>
</dd></dl>

</div>
<div class="section" id="options-affecting-linking">
<span id="options-linker"></span><h2>7.11.6. Options affecting linking<a class="headerlink" href="phases.html#options-affecting-linking" title="Permalink to this headline">¶</a></h2>
<p id="index-13">GHC has to link your code with various libraries, possibly including:
user-supplied, GHC-supplied, and system-supplied (<tt class="docutils literal"><span class="pre">-lm</span></tt> math library,
for example).</p>
<dl class="ghc-flag">
<dt id="ghc-flag--l ⟨lib⟩">
<tt class="descname">-l</tt><tt class="descclassname"> ⟨lib⟩</tt><a class="headerlink" href="phases.html#ghc-flag--l ⟨lib⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Link in the ⟨lib⟩ library. On Unix systems, this will be in a file
called <tt class="file docutils literal"><span class="pre">lib</span><em><span class="pre">lib</span></em><span class="pre">.a</span></tt> or <tt class="file docutils literal"><span class="pre">lib</span><em><span class="pre">lib</span></em><span class="pre">.so</span></tt> which resides somewhere on the
library directories path.</p>
<p>Because of the sad state of most UNIX linkers, the order of such
options does matter. If library ⟨foo⟩ requires library ⟨bar⟩, then
in general <tt class="docutils literal"><span class="pre">-l</span> <span class="pre">⟨foo⟩</span></tt> should come <em>before</em> <tt class="docutils literal"><span class="pre">-l</span> <span class="pre">⟨bar⟩</span></tt> on the
command line.</p>
<p>There&#8217;s one other gotcha to bear in mind when using external
libraries: if the library contains a <tt class="docutils literal"><span class="pre">main()</span></tt> function, then this
will be a link conflict with GHC&#8217;s own <tt class="docutils literal"><span class="pre">main()</span></tt> function (eg.
<tt class="docutils literal"><span class="pre">libf2c</span></tt> and <tt class="docutils literal"><span class="pre">libl</span></tt> have their own <tt class="docutils literal"><span class="pre">main()</span></tt>s).</p>
<p>You can use an external main function if you initialize the RTS manually
and pass <tt class="docutils literal"><span class="pre">-no-hs-main</span></tt>. See also <a class="reference internal" href="ffi-chap.html#using-own-main"><em>Using your own main()</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--c">
<tt class="descname">-c</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--c" title="Permalink to this definition">¶</a></dt>
<dd><p>Omits the link step. This option can be used with <a class="reference internal" href="using.html#ghc-flag---make"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--make</span></tt></a> to
avoid the automatic linking that takes place if the program contains
a <tt class="docutils literal"><span class="pre">Main</span></tt> module.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--package ⟨name⟩">
<tt class="descname">-package</tt><tt class="descclassname"> ⟨name⟩</tt><a class="headerlink" href="phases.html#ghc-flag--package ⟨name⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>If you are using a Haskell &#8220;package&#8221; (see <a class="reference internal" href="packages.html#packages"><em>Packages</em></a>), don&#8217;t
forget to add the relevant <tt class="docutils literal"><span class="pre">-package</span></tt> option when linking the
program too: it will cause the appropriate libraries to be linked in
with the program. Forgetting the <tt class="docutils literal"><span class="pre">-package</span></tt> option will likely
result in several pages of link errors.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--framework ⟨name⟩">
<tt class="descname">-framework</tt><tt class="descclassname"> ⟨name⟩</tt><a class="headerlink" href="phases.html#ghc-flag--framework ⟨name⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>On Darwin/OS X/iOS only, link in the framework ⟨name⟩. This option
corresponds to the <tt class="docutils literal"><span class="pre">-framework</span></tt> option for Apple&#8217;s Linker. Please
note that frameworks and packages are two different things -
frameworks don&#8217;t contain any Haskell code. Rather, they are Apple&#8217;s
way of packaging shared libraries. To link to Apple&#8217;s &#8220;Carbon&#8221; API,
for example, you&#8217;d use <tt class="docutils literal"><span class="pre">-framework</span> <span class="pre">Carbon</span></tt>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--staticlib">
<tt class="descname">-staticlib</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--staticlib" title="Permalink to this definition">¶</a></dt>
<dd><p>On Darwin/OS X/iOS only, link all passed files into a static library
suitable for linking into an iOS (when using a cross-compiler) or
Mac Xcode project. To control the name, use the <a class="reference internal" href="separate_compilation.html#ghc-flag--o ⟨file⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-o</span> <span class="pre">⟨file⟩</span></tt></a> option
as usual. The default name is <tt class="docutils literal"><span class="pre">liba.a</span></tt>. This should nearly always
be passed when compiling for iOS with a cross-compiler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--L ⟨dir⟩">
<tt class="descname">-L</tt><tt class="descclassname"> ⟨dir⟩</tt><a class="headerlink" href="phases.html#ghc-flag--L ⟨dir⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Where to find user-supplied libraries… Prepend the directory ⟨dir⟩
to the library directories path.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--framework-path ⟨dir⟩">
<tt class="descname">-framework-path</tt><tt class="descclassname"> ⟨dir⟩</tt><a class="headerlink" href="phases.html#ghc-flag--framework-path ⟨dir⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>On Darwin/OS X/iOS only, prepend the directory ⟨dir⟩ to the
framework directories path. This option corresponds to the <tt class="docutils literal"><span class="pre">-F</span></tt>
option for Apple&#8217;s Linker (<tt class="docutils literal"><span class="pre">-F</span></tt> already means something else for
GHC).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--split-objs">
<tt class="descname">-split-objs</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--split-objs" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the linker to split the single object file that would normally
be generated into multiple object files, one per top-level Haskell
function or type in the module. This only makes sense for libraries,
where it means that executables linked against the library are
smaller as they only link against the object files that they need.
However, assembling all the sections separately is expensive, so
this is slower than compiling normally. Additionally, the size of
the library itself (the <tt class="docutils literal"><span class="pre">.a</span></tt> file) can be a factor of 2 to 2.5
larger. We use this feature for building GHC&#8217;s libraries.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--split-sections">
<tt class="descname">-split-sections</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--split-sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Place each generated function or data item into its own section in the
output file if the target supports arbitrary sections. The name of the
function or the name of the data item determines the section&#8217;s name in the
output file.</p>
<p>When linking, the linker can automatically remove all unreferenced sections
and thus produce smaller executables. The effect is similar to
<a class="reference internal" href="phases.html#ghc-flag--split-objs"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-split-objs</span></tt></a>, but somewhat more efficient - the generated library
files are about 30% smaller than with <a class="reference internal" href="phases.html#ghc-flag--split-objs"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-split-objs</span></tt></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--static">
<tt class="descname">-static</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--static" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the linker to avoid shared Haskell libraries, if possible. This
is the default.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--dynamic">
<tt class="descname">-dynamic</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>This flag tells GHC to link against shared Haskell libraries. This
flag only affects the selection of dependent libraries, not the form
of the current target (see -shared). See <a class="reference internal" href="shared_libs.html#using-shared-libs"><em>Using shared libraries</em></a> on
how to create them.</p>
<p>Note that this option also has an effect on code generation (see
above).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--shared">
<tt class="descname">-shared</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--shared" title="Permalink to this definition">¶</a></dt>
<dd><p>Instead of creating an executable, GHC produces a shared object with
this linker flag. Depending on the operating system target, this
might be an ELF DSO, a Windows DLL, or a Mac OS dylib. GHC hides the
operating system details beneath this uniform flag.</p>
<p>The flags <a class="reference internal" href="phases.html#ghc-flag--dynamic"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-dynamic</span></tt></a> and <a class="reference internal" href="phases.html#ghc-flag--static"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-static</span></tt></a> control whether the
resulting shared object links statically or dynamically to Haskell package
libraries given as <a class="reference internal" href="packages.html#ghc-flag--package ⟨pkg⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-package</span> <span class="pre">⟨pkg⟩</span></tt></a> option. Non-Haskell libraries
are linked as gcc would regularly link it on your system, e.g. on most ELF
system the linker uses the dynamic libraries when found.</p>
<p>Object files linked into shared objects must be compiled with
<a class="reference internal" href="phases.html#ghc-flag--fPIC"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fPIC</span></tt></a>, see <a class="reference internal" href="phases.html#options-codegen"><em>Options affecting code generation</em></a></p>
<p>When creating shared objects for Haskell packages, the shared object
must be named properly, so that GHC recognizes the shared object
when linked against this package. See shared object name mangling.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--dynload">
<tt class="descname">-dynload</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--dynload" title="Permalink to this definition">¶</a></dt>
<dd><p>This flag selects one of a number of modes for finding shared
libraries at runtime. See <a class="reference internal" href="shared_libs.html#finding-shared-libs"><em>Finding shared libraries at runtime</em></a> for a
description of each mode.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--main-is ⟨thing⟩">
<tt class="descname">-main-is</tt><tt class="descclassname"> ⟨thing⟩</tt><a class="headerlink" href="phases.html#ghc-flag--main-is ⟨thing⟩" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-14">The normal rule in Haskell is that your program must supply a
<tt class="docutils literal"><span class="pre">main</span></tt> function in module <tt class="docutils literal"><span class="pre">Main</span></tt>. When testing, it is often
convenient to change which function is the &#8220;main&#8221; one, and the
<tt class="docutils literal"><span class="pre">-main-is</span></tt> flag allows you to do so. The ⟨thing⟩ can be one of:</p>
<ul class="simple">
<li>A lower-case identifier <tt class="docutils literal"><span class="pre">foo</span></tt>. GHC assumes that the main
function is <tt class="docutils literal"><span class="pre">Main.foo</span></tt>.</li>
<li>A module name <tt class="docutils literal"><span class="pre">A</span></tt>. GHC assumes that the main function is
<tt class="docutils literal"><span class="pre">A.main</span></tt>.</li>
<li>A qualified name <tt class="docutils literal"><span class="pre">A.foo</span></tt>. GHC assumes that the main function is
<tt class="docutils literal"><span class="pre">A.foo</span></tt>.</li>
</ul>
<p>Strictly speaking, <tt class="docutils literal"><span class="pre">-main-is</span></tt> is not a link-phase flag at all; it
has no effect on the link step. The flag must be specified when
compiling the module containing the specified main function (e.g.
module <tt class="docutils literal"><span class="pre">A</span></tt> in the latter two items above). It has no effect for
other modules, and hence can safely be given to <tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">--make</span></tt>.
However, if all the modules are otherwise up to date, you may need
to force recompilation both of the module where the new &#8220;main&#8221; is,
and of the module where the &#8220;main&#8221; function used to be; <tt class="docutils literal"><span class="pre">ghc</span></tt> is
not clever enough to figure out that they both need recompiling. You
can force recompilation by removing the object file, or by using the
<a class="reference internal" href="separate_compilation.html#ghc-flag--fforce-recomp"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fforce-recomp</span></tt></a> flag.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--no-hs-main">
<tt class="descname">-no-hs-main</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--no-hs-main" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-15">In the event you want to include ghc-compiled code as part of
another (non-Haskell) program, the RTS will not be supplying its
definition of <tt class="docutils literal"><span class="pre">main()</span></tt> at link-time, you will have to. To signal
that to the compiler when linking, use <tt class="docutils literal"><span class="pre">-no-hs-main</span></tt>. See also
<a class="reference internal" href="ffi-chap.html#using-own-main"><em>Using your own main()</em></a>.</p>
<p>Notice that since the command-line passed to the linker is rather
involved, you probably want to use <tt class="docutils literal"><span class="pre">ghc</span></tt> to do the final link of
your `mixed-language&#8217; application. This is not a requirement
though, just try linking once with <a class="reference internal" href="using.html#ghc-flag--v"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-v</span></tt></a> on to see what options the
driver passes through to the linker.</p>
<p>The <tt class="docutils literal"><span class="pre">-no-hs-main</span></tt> flag can also be used to persuade the compiler
to do the link step in <a class="reference internal" href="using.html#ghc-flag---make"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--make</span></tt></a> mode when there is no Haskell
<tt class="docutils literal"><span class="pre">Main</span></tt> module present (normally the compiler will not attempt
linking when there is no <tt class="docutils literal"><span class="pre">Main</span></tt>).</p>
<p>The flags <a class="reference internal" href="phases.html#ghc-flag--rtsopts[=⟨none|some|all⟩]"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-rtsopts[=⟨none|some|all⟩]</span></tt></a> and
<a class="reference internal" href="phases.html#ghc-flag--with-rtsopts=⟨opts⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-with-rtsopts=⟨opts⟩</span></tt></a> have no effect when used with
<a class="reference internal" href="phases.html#ghc-flag--no-hs-main"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-no-hs-main</span></tt></a>, because they are implemented by changing the
definition of <tt class="docutils literal"><span class="pre">main</span></tt> that GHC generates. See <a class="reference internal" href="ffi-chap.html#using-own-main"><em>Using your own main()</em></a> for
how to get the effect of <a class="reference internal" href="phases.html#ghc-flag--rtsopts[=⟨none|some|all⟩]"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-rtsopts[=⟨none|some|all⟩]</span></tt></a> and
<a class="reference internal" href="phases.html#ghc-flag--with-rtsopts=⟨opts⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-with-rtsopts=⟨opts⟩</span></tt></a> when using your own <tt class="docutils literal"><span class="pre">main</span></tt>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--debug">
<tt class="descname">-debug</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Link the program with a debugging version of the runtime system. The
debugging runtime turns on numerous assertions and sanity checks,
and provides extra options for producing debugging output at runtime
(run the program with <tt class="docutils literal"><span class="pre">+RTS</span> <span class="pre">-?</span></tt> to see a list).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--threaded">
<tt class="descname">-threaded</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--threaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Link the program with the &#8220;threaded&#8221; version of the runtime system.
The threaded runtime system is so-called because it manages multiple
OS threads, as opposed to the default runtime system which is purely
single-threaded.</p>
<p>Note that you do <em>not</em> need <tt class="docutils literal"><span class="pre">-threaded</span></tt> in order to use
concurrency; the single-threaded runtime supports concurrency
between Haskell threads just fine.</p>
<p>The threaded runtime system provides the following benefits:</p>
<ul class="simple">
<li>It enables the <a class="reference internal" href="using-concurrent.html#rts-flag--N ⟨x⟩"><tt class="xref std std-rts-flag docutils literal"><span class="pre">-N</span> <span class="pre">⟨x⟩</span></tt></a> RTS option to be used,
which allows threads to run in parallelparallelism on a
multiprocessormultiprocessorSMP or multicoremulticore machine.
See <a class="reference internal" href="using-concurrent.html#using-smp"><em>Using SMP parallelism</em></a>.</li>
<li>If a thread makes a foreign call (and the call is not marked
<tt class="docutils literal"><span class="pre">unsafe</span></tt>), then other Haskell threads in the program will
continue to run while the foreign call is in progress.
Additionally, <tt class="docutils literal"><span class="pre">foreign</span> <span class="pre">export</span></tt>ed Haskell functions may be
called from multiple OS threads simultaneously. See
<a class="reference internal" href="ffi-chap.html#ffi-threads"><em>Multi-threading and the FFI</em></a>.</li>
</ul>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--eventlog">
<tt class="descname">-eventlog</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--eventlog" title="Permalink to this definition">¶</a></dt>
<dd><p>Link the program with the &#8220;eventlog&#8221; version of the runtime system.
A program linked in this way can generate a runtime trace of events
(such as thread start/stop) to a binary file <tt class="file docutils literal"><em><span class="pre">program</span></em><span class="pre">.eventlog</span></tt>,
which can then be interpreted later by various tools. See
<a class="reference internal" href="runtime_control.html#rts-eventlog"><em>Tracing</em></a> for more information.</p>
<p><a class="reference internal" href="phases.html#ghc-flag--eventlog"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-eventlog</span></tt></a> can be used with <a class="reference internal" href="phases.html#ghc-flag--threaded"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-threaded</span></tt></a>. It is implied by
<a class="reference internal" href="phases.html#ghc-flag--debug"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-debug</span></tt></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--rtsopts[=⟨none|some|all⟩]">
<tt class="descname">-rtsopts</tt><tt class="descclassname">[=⟨none|some|all⟩]</tt><a class="headerlink" href="phases.html#ghc-flag--rtsopts[=⟨none|some|all⟩]" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">all</td>
</tr>
</tbody>
</table>
<p>This option affects the processing of RTS control options given
either on the command line or via the <span class="target" id="index-16"></span><a class="reference internal" href="runtime_control.html#envvar-GHCRTS"><tt class="xref std std-envvar docutils literal"><span class="pre">GHCRTS</span></tt></a> environment
variable. There are three possibilities:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-rtsopts=none</span></tt></dt>
<dd>Disable all processing of RTS options. If <tt class="docutils literal"><span class="pre">+RTS</span></tt> appears
anywhere on the command line, then the program will abort with
an error message. If the <tt class="docutils literal"><span class="pre">GHCRTS</span></tt> environment variable is set,
then the program will emit a warning message, <tt class="docutils literal"><span class="pre">GHCRTS</span></tt> will be
ignored, and the program will run as normal.</dd>
<dt><tt class="docutils literal"><span class="pre">-rtsopts=some</span></tt></dt>
<dd>[this is the default setting] Enable only the &#8220;safe&#8221; RTS
options: (Currently only <tt class="docutils literal"><span class="pre">-?</span></tt> and <tt class="docutils literal"><span class="pre">--info</span></tt>.) Any other RTS
options on the command line or in the <tt class="docutils literal"><span class="pre">GHCRTS</span></tt> environment
variable causes the program with to abort with an error message.</dd>
<dt><tt class="docutils literal"><span class="pre">-rtsopts=all</span></tt> or just <tt class="docutils literal"><span class="pre">-rtsopts</span></tt></dt>
<dd>Enable <em>all</em> RTS option processing, both on the command line and
through the <tt class="docutils literal"><span class="pre">GHCRTS</span></tt> environment variable.</dd>
</dl>
<p>In GHC 6.12.3 and earlier, the default was to process all RTS
options. However, since RTS options can be used to write logging
data to arbitrary files under the security context of the running
program, there is a potential security problem. For this reason, GHC
7.0.1 and later default to <tt class="docutils literal"><span class="pre">-rtsopts=some</span></tt>.</p>
<p>Note that <tt class="docutils literal"><span class="pre">-rtsopts</span></tt> has no effect when used with <a class="reference internal" href="phases.html#ghc-flag--no-hs-main"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-no-hs-main</span></tt></a>;
see <a class="reference internal" href="ffi-chap.html#using-own-main"><em>Using your own main()</em></a> for details.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--with-rtsopts=⟨opts⟩">
<tt class="descname">-with-rtsopts</tt><tt class="descclassname">=⟨opts⟩</tt><a class="headerlink" href="phases.html#ghc-flag--with-rtsopts=⟨opts⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>This option allows you to set the default RTS options at link-time.
For example, <tt class="docutils literal"><span class="pre">-with-rtsopts=&quot;-H128m&quot;</span></tt> sets the default heap size
to 128MB. This will always be the default heap size for this
program, unless the user overrides it. (Depending on the setting of
the <tt class="docutils literal"><span class="pre">-rtsopts</span></tt> option, the user might not have the ability to
change RTS options at run-time, in which case <tt class="docutils literal"><span class="pre">-with-rtsopts</span></tt>
would be the <em>only</em> way to set them.)</p>
<p>Note that <tt class="docutils literal"><span class="pre">-with-rtsopts</span></tt> has no effect when used with
<tt class="docutils literal"><span class="pre">-no-hs-main</span></tt>; see <a class="reference internal" href="ffi-chap.html#using-own-main"><em>Using your own main()</em></a> for details.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--no-rtsopts-suggestions">
<tt class="descname">-no-rtsopts-suggestions</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--no-rtsopts-suggestions" title="Permalink to this definition">¶</a></dt>
<dd><p>This option disables RTS suggestions about linking with
<a class="reference internal" href="phases.html#ghc-flag--rtsopts[=⟨none|some|all⟩]"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-rtsopts[=⟨none|some|all⟩]</span></tt></a> when they are not available. These
suggestions would be unhelpful if the users have installed Haskell programs
through their package managers. With this option enabled, these suggestions
will not appear. It is recommended for people distributing binaries to
build with either <tt class="docutils literal"><span class="pre">-rtsopts</span></tt> or <tt class="docutils literal"><span class="pre">-no-rtsopts-suggestions</span></tt>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fno-gen-manifest">
<tt class="descname">-fno-gen-manifest</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fno-gen-manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>On Windows, GHC normally generates a manifestmanifest file when
linking a binary. The manifest is placed in the file
<tt class="file docutils literal"><em><span class="pre">prog</span></em><span class="pre">.exe.manifest`</span></tt> where ⟨prog.exe⟩ is the name of the
executable. The manifest file currently serves just one purpose: it
disables the &#8220;installer detection&#8221; in Windows
Vista that attempts to elevate privileges for executables with
certain names (e.g. names containing &#8220;install&#8221;, &#8220;setup&#8221; or &#8220;patch&#8221;).
Without the manifest file to turn off installer detection,
attempting to run an executable that Windows deems to be an
installer will return a permission error code to the invoker.
Depending on the invoker, the result might be a dialog box asking
the user for elevated permissions, or it might simply be a
permission denied error.</p>
<p>Installer detection can be also turned off globally for the system
using the security control panel, but GHC by default generates
binaries that don&#8217;t depend on the user having disabled installer
detection.</p>
<p>The <tt class="docutils literal"><span class="pre">-fno-gen-manifest</span></tt> disables generation of the manifest file.
One reason to do this would be if you had a manifest file of your
own, for example.</p>
<p>In the future, GHC might use the manifest file for more things, such
as supplying the location of dependent DLLs.</p>
<p><a class="reference internal" href="phases.html#ghc-flag--fno-gen-manifest"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fno-gen-manifest</span></tt></a> also implies <a class="reference internal" href="phases.html#ghc-flag--fno-embed-manifest"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fno-embed-manifest</span></tt></a>, see
below.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fno-embed-manifest">
<tt class="descname">-fno-embed-manifest</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fno-embed-manifest" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-17">The manifest file that GHC generates when linking a binary on Windows is
also embedded in the executable itself, by default. This means that the
binary can be distributed without having to supply the manifest file too.
The embedding is done by running <strong class="command">windres</strong>; to see exactly what
GHC does to embed the manifest, use the <a class="reference internal" href="using.html#ghc-flag--v"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-v</span></tt></a> flag. A GHC
installation comes with its own copy of <tt class="docutils literal"><span class="pre">windres</span></tt> for this reason.</p>
<p>See also <a class="reference internal" href="phases.html#ghc-flag--pgmwindres ⟨cmd⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-pgmwindres</span> <span class="pre">⟨cmd⟩</span></tt></a> (<a class="reference internal" href="phases.html#replacing-phases"><em>Replacing the program for one or more phases</em></a>) and
<a class="reference internal" href="phases.html#ghc-flag--optwindres ⟨option⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-optwindres</span> <span class="pre">⟨option⟩</span></tt></a> (<a class="reference internal" href="phases.html#forcing-options-through"><em>Forcing options to a particular phase</em></a>).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fno-shared-implib">
<tt class="descname">-fno-shared-implib</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fno-shared-implib" title="Permalink to this definition">¶</a></dt>
<dd><p>DLLs on Windows are typically linked to by linking to a
corresponding <tt class="docutils literal"><span class="pre">.lib</span></tt> or <tt class="docutils literal"><span class="pre">.dll.a</span></tt> — the so-called import library.
GHC will typically generate such a file for every DLL you create by
compiling in <a class="reference internal" href="phases.html#ghc-flag--shared"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-shared</span></tt></a> mode. However, sometimes you don&#8217;t want to
pay the disk-space cost of creating this import library, which can
be substantial — it might require as much space as the code itself,
as Haskell DLLs tend to export lots of symbols.</p>
<p>As long as you are happy to only be able to link to the DLL using
<tt class="docutils literal"><span class="pre">GetProcAddress</span></tt> and friends, you can supply the
<a class="reference internal" href="phases.html#ghc-flag--fno-shared-implib"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fno-shared-implib</span></tt></a> flag to disable the creation of the import
library entirely.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--dylib-install-name ⟨path⟩">
<tt class="descname">-dylib-install-name</tt><tt class="descclassname"> ⟨path⟩</tt><a class="headerlink" href="phases.html#ghc-flag--dylib-install-name ⟨path⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>On Darwin/OS X, dynamic libraries are stamped at build time with an
&#8220;install name&#8221;, which is the ultimate install path of the library
file. Any libraries or executables that subsequently link against it
will pick up that path as their runtime search location for it. By
default, ghc sets the install name to the location where the library
is built. This option allows you to override it with the specified
file path. (It passes <tt class="docutils literal"><span class="pre">-install_name</span></tt> to Apple&#8217;s linker.) Ignored
on other platforms.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--rdynamic">
<tt class="descname">-rdynamic</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--rdynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>This instructs the linker to add all symbols, not only used ones, to
the dynamic symbol table. Currently Linux and Windows/MinGW32 only.
This is equivalent to using <tt class="docutils literal"><span class="pre">-optl</span> <span class="pre">-rdynamic</span></tt> on Linux, and
<tt class="docutils literal"><span class="pre">-optl</span> <span class="pre">-export-all-symbols</span></tt> on Windows.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fwhole-archive-hs-libs">
<tt class="descname">-fwhole-archive-hs-libs</tt><tt class="descclassname"></tt><a class="headerlink" href="phases.html#ghc-flag--fwhole-archive-hs-libs" title="Permalink to this definition">¶</a></dt>
<dd><p>When linking a binary executable, this inserts the flag
<tt class="docutils literal"><span class="pre">-Wl,--whole-archive</span></tt> before any <tt class="docutils literal"><span class="pre">-l</span></tt> flags for Haskell
libraries, and <tt class="docutils literal"><span class="pre">-Wl,--no-whole-archive</span></tt> afterwards (on OS X, the
flag is <tt class="docutils literal"><span class="pre">-Wl,-all_load</span></tt>, there is no equivalent for
<tt class="docutils literal"><span class="pre">-Wl,--no-whole-archive</span></tt>).  This flag also disables the use of
<tt class="docutils literal"><span class="pre">-Wl,--gc-sections</span></tt> (<tt class="docutils literal"><span class="pre">-Wl,-dead_strip</span></tt> on OS X).</p>
<p>This is for specialist applications that may require symbols
defined in these Haskell libraries at runtime even though they
aren&#8217;t referenced by any other code linked into the executable.
If you&#8217;re using <tt class="docutils literal"><span class="pre">-fwhole-archive-hs-libs</span></tt>, you probably also
want <tt class="docutils literal"><span class="pre">-rdynamic</span></tt>.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="shared_libs.html" title="7.12. Using shared libraries"
             >next</a> |</li>
        <li class="right" >
          <a href="codegens.html" title="7.10. GHC Backends"
             >previous</a> |</li>
        <li><a href="index.html">GHC 8.2.2 User&#39;s Guide</a> &raquo;</li>
          <li><a href="usage.html" >7. Using GHC</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, GHC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>