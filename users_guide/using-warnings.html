
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>7.2. 警告と整合性検査 &mdash; Glasgow Haskell Compiler &lt;release&gt; Users Guide</title>
    
    <link rel="stylesheet" href="_static/ghc-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '8.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Glasgow Haskell Compiler &lt;release&gt; Users Guide" href="index.html" />
    <link rel="up" title="7. GHCを使う" href="usage.html" />
    <link rel="next" title="7.3. Optimisation (code improvement)" href="using-optimisation.html" />
    <link rel="prev" title="7.1. GHCを使う" href="using.html" /> 
  </head>
  <body role="document">
<div class="logo">
    <h1><a href="index.html">Glasgow Haskell Compiler Users Guide</a></h1>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="using-optimisation.html" title="7.3. Optimisation (code improvement)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="using.html" title="7.1. GHCを使う"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 8.0.2 Users Guide</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="usage.html" accesskey="U">7. GHCを使う</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="using.html"
                        title="previous chapter">7.1. GHCを使う</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="using-optimisation.html"
                        title="next chapter">7.3. Optimisation (code improvement)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/using-warnings.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="options-sanity">
<span id="id1"></span><h1>7.2. 警告と整合性検査<a class="headerlink" href="#options-sanity" title="Permalink to this headline">¶</a></h1>
<span class="target" id="index-0"></span><p>GHC では，いくつものオプションを使って，コンパイル中の致命的ではないエラーに対して，
どのようなメッセージ(警告ともいいます)を生成するかを選択できます．
デフォルトでは，プログラム中のバグを示していることが多い以下の警告が有効になっています．</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Woverlapping-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Woverlapping-patterns</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wwarnings-deprecations"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wwarnings-deprecations</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wdeprecated-flags"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wdeprecated-flags</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunrecognised-pragmas"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunrecognised-pragmas</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wduplicate-constraints"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wduplicate-constraints</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wduplicate-exports"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wduplicate-exports</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Woverflowed-literals"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Woverflowed-literals</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wempty-enumerations"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wempty-enumerations</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wmissing-fields"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-fields</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wmissing-methods"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-methods</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wwrong-do-bind"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wwrong-do-bind</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunsupported-calling-conventions"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunsupported-calling-conventions</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wdodgy-foreign-imports"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wdodgy-foreign-imports</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Winline-rule-shadowing"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Winline-rule-shadowing</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunsupported-llvm-version"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunsupported-llvm-version</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wtabs"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wtabs</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunrecognised-warning-flags"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunrecognised-warning-flags</span></code></a></li>
</ul>
</td></tr></table>
<p>以下のフラグは標準的な警告の「詰め合せ」を簡単に選択するためのものです．</p>
<dl class="ghc-flag">
<dt id="ghc-flag--W">
<code class="descname">-W</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--W" title="Permalink to this definition">¶</a></dt>
<dd><p>標準の警告に加えて以下を有効にします．</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wunused-binds"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-binds</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunused-matches"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-matches</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunused-foralls"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-foralls</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wunused-imports"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-imports</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wincomplete-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-patterns</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wdodgy-exports"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wdodgy-exports</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wdodgy-imports"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wdodgy-imports</span></code></a></li>
</ul>
</td></tr></table>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wall">
<code class="descname">-Wall</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wall" title="Permalink to this definition">¶</a></dt>
<dd><p>疑わしいコードであることを示しうるすべての警告オプションを有効にします．
<a class="reference internal" href="#ghc-flag--Wall"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wall</span></code></a> で <em>有効にならない</em> 警告は以下のものです．</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wincomplete-uni-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-uni-patterns</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wincomplete-record-updates"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-record-updates</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wmonomorphism-restriction"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmonomorphism-restriction</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wimplicit-prelude"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wimplicit-prelude</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wmissing-local-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-local-signatures</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wmissing-exported-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-exported-signatures</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wmissing-import-lists"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-import-lists</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Widentities"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Widentities</span></code></a></li>
</ul>
</td></tr></table>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wcompat">
<code class="descname">-Wcompat</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wcompat" title="Permalink to this definition">¶</a></dt>
<dd><p>当面の間はデフォルトでは無効になっていますが，将来，デフォルトで有効になる予定の警告を有効にします．
このフラグを有効にするとこで，ライブラリの作者は，警告を出さずに，新しい機能との互換性を確保しやすくなります．</p>
<p>これで有効になるのは，現時点では以下の警告です．</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wmissing-monadfail-instances"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-monadfail-instances</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wsemigroup"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wsemigroup</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wnoncanonical-monoid-instances"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wnoncanonical-monoid-instances</span></code></a></li>
</ul>
</td></tr></table>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wno-compat">
<code class="descname">-Wno-compat</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wno-compat" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ghc-flag--Wcompat"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wcompat</span></code></a> で有効になる警告をすべて無効にします．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--w">
<code class="descname">-w</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--w" title="Permalink to this definition">¶</a></dt>
<dd><p>標準警告に含まれないもの <a class="reference internal" href="#ghc-flag--Wall"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wall</span></code></a> が有効にしないものを含めて，すべての警告を無効にします．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Werror">
<code class="descname">-Werror</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Werror" title="Permalink to this definition">¶</a></dt>
<dd><p>すべての警告を致命的エラーにします．これを有効にすると，一括コンパイルのときに警告を見逃さずにすみます．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wwarn">
<code class="descname">-Wwarn</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wwarn" title="Permalink to this definition">¶</a></dt>
<dd><p>警告を警告として扱い，エラーにはしません．これはデフォルトですが，
<a class="reference internal" href="#ghc-flag--Werror"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Werror</span></code></a> フラグを否定するのに便利です．</p>
</dd></dl>

<p>警告が発行されると，それを制御する警告フラグが何かも表示されます．</p>
<dl class="ghc-flag">
<dt id="ghc-flag--fshow-warning-groups">
<code class="descname">-fshow-warning-groups</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--fshow-warning-groups" title="Permalink to this definition">¶</a></dt>
<dd><p>どのフラグがその警告を制御しているかを表示する際，
その警告を含む警告フラググループについても表示します．</p>
<p>このオプションはデフォルトでは有効になっていません．</p>
</dd></dl>

<p>以下に警告オプションのすべてを説明します．
なんらかの警告を無効にしたい場合には，その警告に対応する <code class="docutils literal"><span class="pre">-Wno-...</span></code> というオプションをコマンドラインで指定するといいでしょう．
いまのところ GHC 8.0 よりも前のバージョンとの後方互換性のために，すべての警告は <code class="docutils literal"><span class="pre">-W(no-)*</span></code> でなくても <code class="docutils literal"><span class="pre">-f(no-)warn-*</span></code> ででも制御できます．</p>
<dl class="ghc-flag">
<dt id="ghc-flag--Wunrecognised-warning-flags">
<code class="descname">-Wunrecognised-warning-flags</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunrecognised-warning-flags" title="Permalink to this definition">¶</a></dt>
<dd><p>認識できない <code class="docutils literal"><span class="pre">-W...</span></code> フラグをコンパイラに指定したことを警告します．</p>
<p>この警告はデフォルトで有効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wtyped-holes">
<code class="descname">-Wtyped-holes</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wtyped-holes" title="Permalink to this definition">¶</a></dt>
<dd><p>コンパイラが型付きホールの警告を出すかを決めます．
型付きホールのエラーがランタイムまで遅延されているときにのみ効果があります．
<a class="reference internal" href="glasgow_exts.html#typed-holes"><span>Typed Holes</span></a> および <a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a> を参照してください．</p>
<p>この警告はデフォルトで有効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wtype-errors">
<code class="descname">-Wtype-errors</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wtype-errors" title="Permalink to this definition">¶</a></dt>
<dd><p>型エラーが実行時まで遅延されているときに警告を出します．
<a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a> を参照してください．</p>
<p>この警告はデフォルトで有効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fdefer-type-errors">
<code class="descname">-fdefer-type-errors</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--fdefer-type-errors" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implies:</th><td class="field-body"><a class="reference internal" href="#ghc-flag--fdefer-typed-holes"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-typed-holes</span></code></a></td>
</tr>
</tbody>
</table>
<p>可能なかぎり多くの型エラーを実行時まで引き延ばします．
コンパイル時にはエラーではなく警告がでます．
実行時には，型エラーを起こす変数を使ったときに実行時エラーになります．
しかし，型が正しい部分については，正しく動きます．
<a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a> を参照してください．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fdefer-typed-holes">
<code class="descname">-fdefer-typed-holes</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--fdefer-typed-holes" title="Permalink to this definition">¶</a></dt>
<dd><p>型付きホールのエラー(アンダースコアで始まる名前(たとえば <code class="docutils literal"><span class="pre">_</span></code> ， <code class="docutils literal"><span class="pre">_foo</span></code> ， <code class="docutils literal"><span class="pre">_bar</span></code>)に関するエラー)を実行時まで遅延します．
これは <a class="reference internal" href="glasgow_exts.html#typed-holes"><span>typed holes</span></a> によって起きたエラーを警告にします．
型付きホールに依存する値を使うと <a class="reference internal" href="#ghc-flag--fdefer-type-errors"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-type-errors</span></code></a> (これを指定すると <a class="reference internal" href="#ghc-flag--fdefer-typed-holes"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-typed-holes</span></code></a> が有効になる)のときと同じく実行時エラーになります．
<a class="reference internal" href="glasgow_exts.html#typed-holes"><span>Typed Holes</span></a> および <a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a> を参照してください．</p>
<p><a class="reference internal" href="#ghc-flag--fdefer-type-errors"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-type-errors</span></code></a> によって有効になります． <a class="reference internal" href="#ghc-flag--Wtyped-holes"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wtyped-holes</span></code></a> も参照してください．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fdefer-out-of-scope-variables">
<code class="descname">-fdefer-out-of-scope-variables</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--fdefer-out-of-scope-variables" title="Permalink to this definition">¶</a></dt>
<dd><p>変数の有効範囲外エラー(アンダースコアで始まらない名前に関するエラー)を実行時まで遅延します．
これは変数の有効範囲外エラーを警告に換えるものです．
有効範囲外の変数に依存する値を使うと <a class="reference internal" href="#ghc-flag--fdefer-type-errors"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-type-errors</span></code></a> (これを指定すると <code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-out-of-scope-variables`が有効になる)のときと同じく実行時エラーになります．</span>
<span class="pre">:ref:`typed-holes</span></code> および <a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a> を参照してください．</p>
<p><a class="reference internal" href="#ghc-flag--fdefer-type-errors"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fdefer-type-errors</span></code></a> によって有効になります． <code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wdeferred-out-of-scope-variables</span></code> も参照してください．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wpartial-type-signatures">
<code class="descname">-Wpartial-type-signatures</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wpartial-type-signatures" title="Permalink to this definition">¶</a></dt>
<dd><p>部分型シグネチャ中にホールがあることをコンパイラが警告として報告するかを決定します．
<a class="reference internal" href="glasgow_exts.html#ghc-flag--XPartialTypeSignatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-XPartialTypeSignatures</span></code></a> が有効になってい場合に限り効果があります．
この言語拡張は型中のホールに関してエラーにするかどうかを制御します．
<a class="reference internal" href="glasgow_exts.html#partial-type-signatures"><span>Partial Type Signatures</span></a> を参照してください．</p>
<p>この警告はデフォルトで有効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fhelpful-errors">
<code class="descname">-fhelpful-errors</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--fhelpful-errors" title="Permalink to this definition">¶</a></dt>
<dd><p>名前やパッケージが有効範囲になければ，意図していたと推測した名前やパッケージを提案します．</p>
<p>このオプションはデフォルトで有効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunrecognised-pragmas">
<code class="descname">-Wunrecognised-pragmas</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunrecognised-pragmas" title="Permalink to this definition">¶</a></dt>
<dd><p>GHC が認識できないプラグマが使われたときに警告を発します．
GHC 自身が使うプラグマだけではなく，他のツールが使うことが判っているプラグマも認識します．
たとえば <code class="docutils literal"><span class="pre">OPTIONS_HUGS</span></code> や <code class="docutils literal"><span class="pre">DERIVE</span></code> がそれにあたります．</p>
<p>このオプションはデフォルトで有効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissed-specialisations">
<code class="descname">-Wmissed-specialisations</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissed-specialisations" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--Wall-missed-specialisations">
<code class="descname">-Wall-missed-specialisations</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wall-missed-specialisations" title="Permalink to this definition">¶</a></dt>
<dd><p>GHC が多重定義された関数を特定化できない場合に警告を発します．
通常そのような関数は <code class="docutils literal"><span class="pre">INLINEABLE</span></code> プラグマが必要だからです．
「all」付きの形式で指定した場合は，そうなる状況すべてを報告します．
「all」が付かない形式ではインポートされた関数の特定化過程で起りうる状況についてのみ報告します．</p>
<p>「all」が付かない形式は(おそらく特定化可能であるということで) <code class="docutils literal"><span class="pre">INLINEABLE</span></code> がついたインポートされた関数が，
特定化されていない別の関数を呼んでいるために，特定できないという場合を捕捉するためのものです．</p>
<p>これらの警告は <a class="reference internal" href="#ghc-flag--Werror"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Werror</span></code></a> を使ってもエラーにはならないことに注意してください．</p>
<p>これらのオプションはデフォルトでは無効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wwarnings-deprecations">
<code class="descname">-Wwarnings-deprecations</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wwarnings-deprecations" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-1"><code class="docutils literal"><span class="pre">WARNING</span></code> あるいは <code class="docutils literal"><span class="pre">DEPRECATED</span></code> プラグマの付いたモジュール，関数，型を使ったときに警告を発行します．
対応するプラグマについて詳しくは <a class="reference internal" href="glasgow_exts.html#warning-deprecated-pragma"><span>WARNING and DEPRECATED pragmas</span></a> を参照してください．</p>
<p>このオプションはデフォルトで有効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wamp">
<code class="descname">-Wamp</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wamp" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-2">このオプションは廃止予定で非推奨です．</p>
<p>AMP (Applicative-Monad proosal)と衝突する定義があった場合に警告を発行します．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wnoncanonical-monad-instances">
<code class="descname">-Wnoncanonical-monad-instances</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wnoncanonical-monad-instances" title="Permalink to this definition">¶</a></dt>
<dd><p>非標準の <code class="docutils literal"><span class="pre">Applicative</span></code> あるいは <code class="docutils literal"><span class="pre">Monad</span></code> インスタンス宣言を検出した場合に警告を発行します．</p>
<p>この警告が有効になっている場合は，以下の条件を確認します．</p>
<p><code class="docutils literal"><span class="pre">Monad</span></code> のインスタンス宣言において，以下の条件が満たされていなければ警告になります．</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">return</span></code> が定義されているなら，標準的定義(すなわち <code class="docutils literal"><span class="pre">return</span> <span class="pre">=</span> <span class="pre">pure</span></code>)でなければならない．</li>
<li><code class="docutils literal"><span class="pre">(&gt;&gt;)</span></code> が定義されているなら，標準的定義(すなわち <code class="docutils literal"><span class="pre">(&gt;&gt;)</span> <span class="pre">=</span> <span class="pre">(*&gt;)</span></code>)でなければならない．</li>
</ul>
</div></blockquote>
<p>さらに <code class="docutils literal"><span class="pre">Applicative</span></code> のインスタンス定義においては，</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">pure</span></code> が逆方向定義(すなわち <code class="docutils literal"><span class="pre">pure</span> <span class="pre">=</span> <span class="pre">return</span></code>) であれば警告します．</li>
<li><code class="docutils literal"><span class="pre">(*&gt;)</span></code> が逆方向定義(すなわち <code class="docutils literal"><span class="pre">(*&gt;)</span> <span class="pre">=</span> <span class="pre">(&gt;&gt;)</span></code>)であれば警告します．</li>
</ul>
</div></blockquote>
<p>このオプションはデフォルトでは無効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wnoncanonical-monadfail-instances">
<code class="descname">-Wnoncanonical-monadfail-instances</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wnoncanonical-monadfail-instances" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Monad</span></code> あるいは <code class="docutils literal"><span class="pre">MonadFail</span></code> のインスタンス宣言が標準的ではない場合に警告を発行します．</p>
<p>この警告が有効になっている場合は，以下の条件を確認します．</p>
<p><code class="docutils literal"><span class="pre">Monad</span></code> のインスタンス宣言において，以下の条件が満されていなければ警告になります．</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">fail</span></code> が定義されているなら，標準的定義(すなわち <code class="docutils literal"><span class="pre">fail</span> <span class="pre">=</span> <span class="pre">Control.Monad.Fail.fail</span></code>)でなければならない．</li>
</ul>
</div></blockquote>
<p>さらに <code class="docutils literal"><span class="pre">MonadFail</span></code> のインスタンス定義においては，</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">fail</span></code> が逆方向定義(すなわち <code class="docutils literal"><span class="pre">fail</span> <span class="pre">=</span> <span class="pre">Control.Monad.fail</span></code>)であれば警告します．</li>
</ul>
</div></blockquote>
<p><a class="reference internal" href="#ghc-flag--Wmissing-monadfail-instances"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-monadfail-instances</span></code></a> も参照してください．</p>
<p>このオプションはデフォルトでは無効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wnoncanonical-monoid-instances">
<code class="descname">-Wnoncanonical-monoid-instances</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wnoncanonical-monoid-instances" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Semigroup</span></code> あるいは <code class="docutils literal"><span class="pre">Monoid</span></code> のインスタンス宣言が標準的でないときに警告を発行します．</p>
<p>この警告が有効になっている場合は，以下の条件を確認します．</p>
<p><code class="docutils literal"><span class="pre">Monoid</span></code> のインスタンス宣言において，以下の条件が満たされていなければ警告になります．</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">mappend</span></code> が定義されているなら，標準的定義(すなわち <code class="docutils literal"><span class="pre">mappend</span> <span class="pre">=</span> <span class="pre">(Data.Semigroup.&lt;&gt;)</span></code>)でなければならない．</li>
</ul>
</div></blockquote>
<p>さらに <code class="docutils literal"><span class="pre">Semigroup</span></code> のインスタンス宣言において</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">(&lt;&gt;)</span></code> が逆方向定義(すなわち <code class="docutils literal"><span class="pre">(&lt;&gt;)</span> <span class="pre">=</span> <span class="pre">mappend</span></code>)であれば警告します．</li>
</ul>
</div></blockquote>
<p>この警告はデフォルトでは無効になっています．しかし，この警告は <a class="reference internal" href="#ghc-flag--Wcompat"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wcompat</span></code></a> というオプショングループに属しています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-monadfail-instances">
<code class="descname">-Wmissing-monadfail-instances</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-monadfail-instances" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-3">do ブロックで失敗する可能性のあるパターンが用いられていて <code class="docutils literal"><span class="pre">MonadFail</span></code> のインスタンスではないときに警告を発行します．</p>
<p><a class="reference internal" href="#ghc-flag--Wnoncanonical-monadfail-instances"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wnoncanonical-monadfail-instances</span></code></a> も参照してください．</p>
<p>この警告フラグは <a class="reference internal" href="#ghc-flag--Wcompat"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wcompat</span></code></a> というオプショングループに属していていますが，
デフォルトでは無効になっています．しかし，将来のリリースでは <a class="reference external" href="https://prime.haskell.org/wiki/Libraries/Proposals/MonadFail">MonadFail Proposal (MFP)</a> の一部としてデフォルトで有効になる予定です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wsemigroup">
<code class="descname">-Wsemigroup</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wsemigroup" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-4">将来，標準の型クラスに <code class="docutils literal"><span class="pre">Semigroup</span></code> が含まれるようになったときに，衝突を引き起す定義に対して警告を出します．</p>
<blockquote>
<div><ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">Monoid</span></code> のインスタンスは，<code class="docutils literal"><span class="pre">Semigroup</span></code> のインスタンスでもなければなりません．</li>
<li><code class="docutils literal"><span class="pre">Semigroup</span></code> の演算子 <code class="docutils literal"><span class="pre">(&lt;&gt;)</span></code> は <code class="docutils literal"><span class="pre">Prelude</span></code> に入る予定ですので，このような演算子を独自に定義しているとクラッシュします．</li>
</ol>
</div></blockquote>
<p>このフラグは <a class="reference internal" href="#ghc-flag--Wcompat"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wcompat</span></code></a> オプショングループに属しています．デフォルトでは無効になっていますが，
将来の GHC のリリースでは，デフォルトで有効になります．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wdeprecated-flags">
<code class="descname">-Wdeprecated-flags</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wdeprecated-flags" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-5">非推奨になっているコマンドラインを使っていると警告を発行します．</p>
<p>このオプションはデフォルトで有効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunsupported-calling-conventions">
<code class="descname">-Wunsupported-calling-conventions</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunsupported-calling-conventions" title="Permalink to this definition">¶</a></dt>
<dd><p>サポートされていない呼び出し方法を外部宣言で用いると警告を発行します．
具体的には <code class="docutils literal"><span class="pre">stdcall</span></code> という呼び出し方法を i386 以外のアーキテクチャ上のシステムで使うと
<code class="docutils literal"><span class="pre">ccall</span></code> として扱います．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wdodgy-foreign-imports">
<code class="descname">-Wdodgy-foreign-imports</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wdodgy-foreign-imports" title="Permalink to this definition">¶</a></dt>
<dd><p>以下の形式の外部インポートに対して警告を発行します．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">foreign</span> <span class="kr">import</span> <span class="s">&quot;f&quot;</span> <span class="nn">f</span> <span class="ow">::</span> <span class="kt">FunPtr</span> <span class="n">t</span>
</pre></div>
</div>
<p>おそらく</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">foreign</span> <span class="kr">import</span> <span class="s">&quot;&amp;f&quot;</span> <span class="nn">f</span> <span class="ow">::</span> <span class="kt">FunPtr</span> <span class="n">t</span>
</pre></div>
</div>
<p>と書くべきだったと思われます．
1つめの形式では `f` は(純粋な) C の関数で，引数はとらず，型 `t` の C の関数へのポインタを宣言しています．
1つめの宣言は通常は誤りで，クラッシュにつながりデバッグのしにくいバグになるので，この警告が用意されています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wdodgy-exports">
<code class="descname">-Wdodgy-exports</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wdodgy-exports" title="Permalink to this definition">¶</a></dt>
<dd><p>型シノニムにすぎないデータ型 <code class="docutils literal"><span class="pre">T</span></code> がすべての構成子を <code class="docutils literal"><span class="pre">T(..)</span></code> のようにエクスポートしているときに警告を発行します．</p>
<p>また，何もエクスポートしていないモジュールを再エクスポートしているときも警告を発行します．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wdodgy-imports">
<code class="descname">-Wdodgy-imports</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wdodgy-imports" title="Permalink to this definition">¶</a></dt>
<dd><p>以下の場合に警告を発行します．</p>
<ul class="simple">
<li>データ型 <code class="docutils literal"><span class="pre">T</span></code> を <code class="docutils literal"><span class="pre">T(..)</span></code> のようにすべての構成子付きでインポートしているのに，その型が <code class="docutils literal"><span class="pre">T</span></code> のように
抽象的にしかエクスポートされていない場合．</li>
<li><code class="docutils literal"><span class="pre">import</span></code> 宣言がエクスポートされていない実体を隠蔽している場合．</li>
</ul>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Woverflowed-literals">
<code class="descname">-Woverflowed-literals</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Woverflowed-literals" title="Permalink to this definition">¶</a></dt>
<dd><p>リテラルがオーバーフローを起こすような場合，たとえば <code class="docutils literal"><span class="pre">300</span> <span class="pre">::</span> <span class="pre">Word8</span></code> のような場合に警告を発行します．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wempty-enumerations">
<code class="descname">-Wempty-enumerations</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wempty-enumerations" title="Permalink to this definition">¶</a></dt>
<dd><p>たとえば <code class="docutils literal"><span class="pre">[5</span> <span class="pre">..</span> <span class="pre">3]</span></code> のように列挙が空になる場合に警告を発行します．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wduplicate-constraints">
<code class="descname">-Wduplicate-constraints</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wduplicate-constraints" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-6">型シグネチャで制約の重複がある場合コンパイラが警告を発行するようにします．
たとえば，以下のような場合です．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="p">(</span><span class="kt">Eq</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Show</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Eq</span> <span class="n">a</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
</pre></div>
</div>
<p>この警告では <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> という制約が重複していることを表示します．</p>
<p>このオプションは <a class="reference internal" href="#ghc-flag--Wredundant-constraints"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wredundant-constraints</span></code></a> があるので，非推奨になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wredundant-constraints">
<code class="descname">-Wredundant-constraints</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wredundant-constraints" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Since:</th><td class="field-body">8.0</td>
</tr>
</tbody>
</table>
<p id="index-7">型シグネチャで冗長な制約がある場合にコンパイラが警告を発行するようにします．
具体的には，</p>
<ul>
<li><p class="first">型シグネチャ内に冗長な制約がある場合．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="p">(</span><span class="kt">Eq</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Ord</span> <span class="n">a</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
</pre></div>
</div>
<p>この警告では <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> という警告が冗長であることが表示されます．
<code class="docutils literal"><span class="pre">Ord</span> <span class="pre">a</span></code> 制約によって <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> 制約は仮定済みになるからです．</p>
</li>
<li><p class="first">型シグネチャ内の制約がカバーする範囲のコードで，その制約が使われていない場合．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="kt">Eq</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Bool</span>
<span class="nf">f</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="kt">True</span>
</pre></div>
</div>
<p>この警告では <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> という制約が冗長であることが示されます．
(この制約は <code class="docutils literal"><span class="pre">f</span></code> の定義で使われていません．)</p>
</li>
</ul>
<p>インスタンス宣言中に冗長な制約がある場合についても同様の警告がでます．</p>
<p>このオプションはデフォルトで有効です．
通常どおり <code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wno-redundant-constraints</span></code> を使えば，モジュール毎にこの警告を抑制できます．
必要とされる以上の制約を加えた型シグネチャを書きたい場合には，APIを変更することなく，実装を変更する余地が残されています．
そのような場合には，使われない束縛を使って，関数ごとに警告を抑制できます．
たとえば，以下のようにします．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="kt">Eq</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Bool</span>
<span class="nf">f</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="kt">True</span>
<span class="kr">where</span>
    <span class="kr">_</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">==</span> <span class="n">x</span>  <span class="c1">-- (Eq a)に対する冗長な制約警告を抑制</span>
</pre></div>
</div>
<p>ここでは <code class="docutils literal"><span class="pre">(==)</span></code> を呼び出すことで，GHC は <code class="docutils literal"><span class="pre">(Eq</span> <span class="pre">a)</span></code> という制約が必要であると判断しますので，警告は発行されません．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wduplicate-exports">
<code class="descname">-Wduplicate-exports</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wduplicate-exports" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-8">エクスポートリストに重複したエントリがある場合にコンパイラが警告を発行するようにします．
この機能は大きなエクスポートリストを保守するのに便利です．
削除したはずのエクスポートリストのエントリがエクスポートされつづけるというようなことを避けられます．</p>
<p>このオプションはデフォルトで有効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Whi-shadowing">
<code class="descname">-Whi-shadowing</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Whi-shadowing" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-9">現在のディレクトリにあるモジュールやインターフェイスファイルが，ライブラリや別のディレクトリにある同名のモジュールをシャドーイングしてしまっている場合，コンパイラが警告を発行するようになります．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Widentities">
<code class="descname">-Widentities</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Widentities" title="Permalink to this definition">¶</a></dt>
<dd><p>Prelude の数値変換が <code class="docutils literal"><span class="pre">T</span></code> 型の値を同じ <code class="docutils literal"><span class="pre">T``型の値に変換しようとしている場合に，コンパイラが警告を発行するようになります．</span>
<span class="pre">このような呼び出しは何もしないのと同じで省略できます．</span>
<span class="pre">検査される関数は</span>&nbsp; <span class="pre">``toInteger</span></code> ， <code class="docutils literal"><span class="pre">toRational</span></code> ， <code class="docutils literal"><span class="pre">fromIntegral</span></code> ， <code class="docutils literal"><span class="pre">realToFrac</span></code> です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wimplicit-prelude">
<code class="descname">-Wimplicit-prelude</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wimplicit-prelude" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-10">Preludeが暗黙に(インポート宣言なしで)インポートされる場合にコンパイラが警告を発行するようにします．
Prelude の暗黙のインポートは <code class="docutils literal"><span class="pre">import</span> <span class="pre">...</span> <span class="pre">Prelude</span> <span class="pre">...</span></code> というインポート宣言で明示的にインポートされている場合や，
暗黙のインポートが(<a class="reference internal" href="glasgow_exts.html#ghc-flag--XNoImplicitPrelude"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-XNoImplicitPrelude</span></code></a> あるいは <code class="docutils literal"><span class="pre">LANGUAGE</span> <span class="pre">NoImplicitPrelude</span></code> プラグマにより)無効になっている場合を除きいつでも起ります．</p>
<p>Preludeを暗黙に参照する構文に対して警告が出るわけではありません．
<a class="reference internal" href="glasgow_exts.html#ghc-flag--XNoImplicitPrelude"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-XNoImplicitPrelude</span></code></a> によって Preludeを参照するかどうかが変化するような場合でも警告は出ません．
たとえば <code class="docutils literal"><span class="pre">368</span></code> は <code class="docutils literal"><span class="pre">Prelude.fromInteger</span> <span class="pre">(368::Prelude.Integer)</span></code> という意味であっても警告はでないということに注意してください．
ここで <code class="docutils literal"><span class="pre">Prelude</span></code> はコンパイル中のモジュールが何をインポートしているかにかかわらず，実際のPreludeモジュールを参照します．</p>
<p>この警告はデフォルトでは無効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wincomplete-patterns">
<code class="descname">-Wincomplete-patterns</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wincomplete-patterns" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--Wincomplete-uni-patterns">
<code class="descname">-Wincomplete-uni-patterns</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wincomplete-uni-patterns" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-11"><a class="reference internal" href="#ghc-flag--Wincomplete-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-patterns</span></code></a> はパターン照合が実行時に失敗する可能性がある場合に警告を発行します．
以下の関数 <code class="docutils literal"><span class="pre">g</span></code> は空ではないリストに適用すると失敗するので <a class="reference internal" href="#ghc-flag--Wincomplete-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-patterns</span></code></a> が有効ならコンパイラは警告を発行します．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">g</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>このオプションは小うるさいことがあり，また常にバグを示しているわけもないので，デフォルトでは有効になっていません．
しかし，関数を定義するときにはすべての場合を網羅するのが一般的に良い習慣です．
このオプションは <a class="reference internal" href="#ghc-flag--W"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-W</span></code></a> で有効になります．</p>
<p><a class="reference internal" href="#ghc-flag--Wincomplete-uni-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-uni-patterns</span></code></a> というフラグは，単一パターンしか許されない構文要素，つまりλ抽象式およびパターン束縛にのみ適用されるという点を除けば <a class="reference internal" href="#ghc-flag--Wincomplete-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-patterns</span></code></a> と同じである．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">h</span> <span class="ow">=</span> <span class="nf">\</span><span class="kt">[]</span> <span class="ow">-&gt;</span> <span class="mi">2</span>
<span class="kt">Just</span> <span class="n">k</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">y</span>
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fmax-pmcheck-iterations">
<code class="descname">-fmax-pmcheck-iterations</code><code class="descclassname">=⟨N⟩</code><a class="headerlink" href="#ghc-flag--fmax-pmcheck-iterations" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2000000</td>
</tr>
</tbody>
</table>
<p>パターン照合検査器が諦めるまでの反復回数を設定します．
この制限はパターン照合が(一般的な場合の検査範囲のカバー率が指数オーダーになるなど)極端にコストがかかるような場合を捕捉するためのものです．
GHC がパターン照合検査器の反復限界を超えたと報告しないかぎり，通常は設定する必要はありません．
(そのような場合には，将来そのコードを読む人のために，パターン照合の部分のリファクタリングを考えることになるでしょう．)</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wincomplete-record-updates">
<code class="descname">-Wincomplete-record-updates</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wincomplete-record-updates" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-12">以下の関数 <code class="docutils literal"><span class="pre">f</span></code> は <code class="docutils literal"><span class="pre">Bar</span></code> に適用すると失敗します．
<a class="reference internal" href="#ghc-flag--Wincomplete-record-updates"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wincomplete-record-updates</span></code></a> を有効にしておくと，この場合に警告が発行されます．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">data</span> <span class="kt">Foo</span> <span class="ow">=</span> <span class="kt">Foo</span> <span class="p">{</span> <span class="n">x</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="p">}</span>
         <span class="o">|</span> <span class="kt">Bar</span>

<span class="nf">f</span> <span class="ow">::</span> <span class="kt">Foo</span> <span class="ow">-&gt;</span> <span class="kt">Foo</span>
<span class="nf">f</span> <span class="n">foo</span> <span class="ow">=</span> <span class="n">foo</span> <span class="p">{</span> <span class="n">x</span> <span class="ow">=</span> <span class="mi">6</span> <span class="p">}</span>
</pre></div>
</div>
<p>このオプションは小うるさく，プログラムのバグを示さないことも多いので，デフォルトでは有効になっていません．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-fields">
<code class="descname">-Wmissing-fields</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-fields" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-13">このオプションはデフォルトで有効です．
ラベル付きフィールド構成子を構成するときに，1つ以上のフィールドについて初期化子が欠如している場合に警告を発行します．
これはエラーではありません(省略されたフィールドはボトムで初期化されます)が，多くの場合プログラムに誤りがあることを示します．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-import-lists">
<code class="descname">-Wmissing-import-lists</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-import-lists" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-14">qualified ではない <code class="docutils literal"><span class="pre">import</span></code> 宣言で，スコープに持ち込む実体を明示的に列挙していないインポート宣言に対して警告を発行する．
たとえば</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">module</span> <span class="nn">M</span> <span class="kr">where</span>
  <span class="kr">import</span> <span class="nn">X</span><span class="p">(</span> <span class="n">f</span> <span class="p">)</span>
  <span class="kr">import</span> <span class="nn">Y</span>
  <span class="kr">import</span> <span class="k">qualified</span> <span class="nn">Z</span>
  <span class="n">p</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">x</span> <span class="n">x</span>
</pre></div>
</div>
<p><a class="reference internal" href="#ghc-flag--Wmissing-import-lists"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-import-lists</span></code></a> フラグが有効なら <code class="docutils literal"><span class="pre">Y</span></code> のインポートに対して警告が発行されます．
<code class="docutils literal"><span class="pre">X</span></code> については警告はでません．
後から <code class="docutils literal"><span class="pre">Y</span></code> がたとえば <code class="docutils literal"><span class="pre">f</span></code> をエクスポートするように変更されると <code class="docutils literal"><span class="pre">M</span></code> の中での <code class="docutils literal"><span class="pre">f</span></code> への参照は曖昧になってしまいます．
<code class="docutils literal"><span class="pre">Z</span></code> のエクスポートを拡張しても <code class="docutils literal"><span class="pre">M</span></code> で曖昧な部分ができる可能性は低いので <code class="docutils literal"><span class="pre">Z</span></code> をインポートすることについては警告はでません．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-methods">
<code class="descname">-Wmissing-methods</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-methods" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-15">このオプションはデフォルトで有効です．
インスタンス宣言が1つ以上のメソッドを欠き，そのメソッドのデフォルト定義が対応するクラス宣言にないときに警告を発行します．</p>
<p>メソッド名がアンダースコアで始まっているときにはこの警告はでません．
このことは以下のような場合に便利です．</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">class</span> <span class="kt">C</span> <span class="n">a</span> <span class="kr">where</span>
    <span class="n">_simpleFn</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
    <span class="n">complexFn</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
    <span class="n">complexFn</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="o">...</span> <span class="n">_simpleFn</span> <span class="o">...</span>
</pre></div>
</div>
<p>基本的な考え方は (a) クラスの利用者はもっぱら <code class="docutils literal"><span class="pre">complexFn</span></code> を呼び <code class="docutils literal"><span class="pre">_simpleFn</span></code> を呼ぶことはなく，かつ，
(b) インスタンス宣言では <code class="docutils literal"><span class="pre">complexFn</span></code> か <code class="docutils literal"><span class="pre">_simpleFn</span></code> のどちらか一方を定義すればよいということです．</p>
<p><code class="docutils literal"><span class="pre">MINIMAL</span></code> プラグマを使うと，特定のクラスに対して，どのメソッドの組み合わせが要求されるかを変更できます．
詳しくは <a class="reference internal" href="glasgow_exts.html#minimal-pragma"><span>MINIMAL pragma</span></a> を参照してください．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-signatures">
<code class="descname">-Wmissing-signatures</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-signatures" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-16">どのトップレベルの関数や値にも型シグネチャがあることを GHC に確認させたければ，
<a class="reference internal" href="#ghc-flag--Wmissing-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-signatures</span></code></a> オプションを使うのがよいでしょう．
GHC はこの警告の一部として，推論できた型を報告します．
このオプションはデフォルトでは無効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-exported-sigs">
<code class="descname">-Wmissing-exported-sigs</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-exported-sigs" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-17">このオプションは <a class="reference internal" href="#ghc-flag--Wmissing-exported-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-exported-signatures</span></code></a> があるので，非推奨となっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-exported-signatures">
<code class="descname">-Wmissing-exported-signatures</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-exported-signatures" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-18">エクスポートされるどのトップレベルの関数や値にも型シグネチャがあることを GHC に確認させ，
エクスポートしないトップレベルの関数や値については確認しないということをしたければ <a class="reference internal" href="#ghc-flag--Wmissing-exported-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-exported-signatures</span></code></a> オプションを使うのが良いでしょう．
このオプションは <a class="reference internal" href="#ghc-flag--Wmissing-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-signatures</span></code></a> より優先されます．
この警告の一部として GHC は推論できた型を報告します．
このオプションはデフォルトでは無効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-local-sigs">
<code class="descname">-Wmissing-local-sigs</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-local-sigs" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-19">このオプションは <a class="reference internal" href="#ghc-flag--Wmissing-local-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-local-signatures</span></code></a> があるので，非推奨となっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-local-signatures">
<code class="descname">-Wmissing-local-signatures</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-local-signatures" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-20"><a class="reference internal" href="#ghc-flag--Wmissing-local-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-local-signatures</span></code></a> を使えば，GHC はあらゆる多相的な局所束縛について警告を発行するようになります．
警告の一部として，GHC は推論できた型を報告します．
このオプションはデフォルトでは無効です．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmissing-pattern-synonym-signatures">
<code class="descname">-Wmissing-pattern-synonym-signatures</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmissing-pattern-synonym-signatures" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-21">どのパターンシノニムにも型シグネチャがあることを GHC に確認させたければ，
<a class="reference internal" href="#ghc-flag--Wmissing-pattern-synonym-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-pattern-synonym-signatures</span></code></a> オプションを使うのが良いでしょう．
オプションを <a class="reference internal" href="#ghc-flag--Wmissing-exported-signatures"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wmissing-exported-signatures</span></code></a> と同時に使えば，エクスポートするパターンシノニムだけが型シグネチャを付けなければならなくなります．
警告の一部として，GHC は推論できた型も報告します．
このオプションはデフォルトでは無効になっています．</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wname-shadowing">
<code class="descname">-Wname-shadowing</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wname-shadowing" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-22">This option causes a warning to be emitted whenever an inner-scope
value has the same name as an outer-scope value, i.e. the inner
value shadows the outer one. This can catch typographical errors
that turn into hard-to-find bugs, e.g., in the inadvertent capture
of what would be a recursive call in
<code class="docutils literal"><span class="pre">f</span> <span class="pre">=</span> <span class="pre">...</span> <span class="pre">let</span> <span class="pre">f</span> <span class="pre">=</span> <span class="pre">id</span> <span class="pre">in</span> <span class="pre">...</span> <span class="pre">f</span> <span class="pre">...</span></code>.</p>
<p>The warning is suppressed for names beginning with an underscore.
For example</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="n">x</span> <span class="ow">=</span> <span class="kr">do</span> <span class="p">{</span> <span class="n">_ignore</span> <span class="ow">&lt;-</span> <span class="n">this</span><span class="p">;</span> <span class="n">_ignore</span> <span class="ow">&lt;-</span> <span class="n">that</span><span class="p">;</span> <span class="n">return</span> <span class="p">(</span><span class="n">the</span> <span class="n">other</span><span class="p">)</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Worphans">
<code class="descname">-Worphans</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Worphans" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-23">These flags cause a warning to be emitted whenever the module
contains an &#8220;orphan&#8221; instance declaration or rewrite rule. An
instance declaration is an orphan if it appears in a module in which
neither the class nor the type being instanced are declared in the
same module. A rule is an orphan if it is a rule for a function
declared in another module. A module containing any orphans is
called an orphan module.</p>
<p>The trouble with orphans is that GHC must pro-actively read the
interface files for all orphan modules, just in case their instances
or rules play a role, whether or not the module&#8217;s interface would
otherwise be of any use. See <a class="reference internal" href="separate_compilation.html#orphan-modules"><span>Orphan modules and instance declarations</span></a> for details.</p>
<p>The flag <a class="reference internal" href="#ghc-flag--Worphans"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Worphans</span></code></a> warns about user-written orphan rules or
instances.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Woverlapping-patterns">
<code class="descname">-Woverlapping-patterns</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Woverlapping-patterns" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-24">By default, the compiler will warn you if a set of patterns are
overlapping, e.g.,</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="kt">String</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">f</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="mi">0</span>
<span class="nf">f</span> <span class="p">(</span><span class="kr">_</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">f</span> <span class="s">&quot;2&quot;</span>    <span class="ow">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>where the last pattern match in <code class="docutils literal"><span class="pre">f</span></code> won&#8217;t ever be reached, as the
second pattern overlaps it. More often than not, redundant patterns
is a programmer mistake/error, so this option is enabled by default.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wtabs">
<code class="descname">-Wtabs</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wtabs" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-25">Have the compiler warn if there are tabs in your source file.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wtype-defaults">
<code class="descname">-Wtype-defaults</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wtype-defaults" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-26">Have the compiler warn/inform you where in your source the Haskell
defaulting mechanism for numeric types kicks in. This is useful
information when converting code from a context that assumed one
default into one with another, e.g., the ‘default default’ for
Haskell 1.4 caused the otherwise unconstrained value <code class="docutils literal"><span class="pre">1</span></code> to be
given the type <code class="docutils literal"><span class="pre">Int</span></code>, whereas Haskell 98 and later defaults it to
<code class="docutils literal"><span class="pre">Integer</span></code>. This may lead to differences in performance and
behaviour, hence the usefulness of being non-silent about this.</p>
<p>This warning is off by default.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wmonomorphism-restriction">
<code class="descname">-Wmonomorphism-restriction</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wmonomorphism-restriction" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-27">Have the compiler warn/inform you where in your source the Haskell
Monomorphism Restriction is applied. If applied silently the MR can
give rise to unexpected behaviour, so it can be helpful to have an
explicit warning that it is being applied.</p>
<p>This warning is off by default.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunsupported-llvm-version">
<code class="descname">-Wunsupported-llvm-version</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunsupported-llvm-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Warn when using <a class="reference internal" href="phases.html#ghc-flag--fllvm"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-fllvm</span></code></a> with an unsupported version of LLVM.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunticked-promoted-constructors">
<code class="descname">-Wunticked-promoted-constructors</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunticked-promoted-constructors" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-28">Warn if a promoted data constructor is used without a tick preceding
its name.</p>
<p>For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">data</span> <span class="kt">Nat</span> <span class="ow">=</span> <span class="kt">Succ</span> <span class="kt">Nat</span> <span class="o">|</span> <span class="kt">Zero</span>

<span class="kr">data</span> <span class="kt">Vec</span> <span class="n">n</span> <span class="n">s</span> <span class="kr">where</span>
  <span class="kt">Nil</span>  <span class="ow">::</span> <span class="kt">Vec</span> <span class="kt">Zero</span> <span class="n">a</span>
  <span class="kt">Cons</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Vec</span> <span class="n">n</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Vec</span> <span class="p">(</span><span class="kt">Succ</span> <span class="n">n</span><span class="p">)</span> <span class="n">a</span>
</pre></div>
</div>
<p>Will raise two warnings because <code class="docutils literal"><span class="pre">Zero</span></code> and <code class="docutils literal"><span class="pre">Succ</span></code> are not
written as <code class="docutils literal"><span class="pre">'Zero</span></code> and <code class="docutils literal"><span class="pre">'Succ</span></code>.</p>
<p>This warning is is enabled by default in <a class="reference internal" href="#ghc-flag--Wall"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wall</span></code></a> mode.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-binds">
<code class="descname">-Wunused-binds</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-binds" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-29">Report any function definitions (and local bindings) which are
unused. An alias for</p>
<ul class="simple">
<li><a class="reference internal" href="#ghc-flag--Wunused-top-binds"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-top-binds</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunused-local-binds"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-local-binds</span></code></a></li>
<li><a class="reference internal" href="#ghc-flag--Wunused-pattern-binds"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-pattern-binds</span></code></a></li>
</ul>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-top-binds">
<code class="descname">-Wunused-top-binds</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-top-binds" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-30">Report any function definitions which are unused.</p>
<p>More precisely, warn if a binding brings into scope a variable that
is not used, except if the variable&#8217;s name starts with an
underscore. The &#8220;starts-with-underscore&#8221; condition provides a way to
selectively disable the warning.</p>
<p>A variable is regarded as &#8220;used&#8221; if</p>
<ul class="simple">
<li>It is exported, or</li>
<li>It appears in the right hand side of a binding that binds at
least one used variable that is used</li>
</ul>
<p>For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">module</span> <span class="nn">A</span> <span class="p">(</span><span class="nf">f</span><span class="p">)</span> <span class="kr">where</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="kr">let</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span> <span class="ow">=</span> <span class="n">rhs1</span> <span class="kr">in</span> <span class="n">t</span> <span class="n">p</span>  <span class="c1">-- No warning: q is unused, but is locally bound</span>
<span class="nf">t</span> <span class="ow">=</span> <span class="n">rhs3</span>                     <span class="c1">-- No warning: f is used, and hence so is t</span>
<span class="nf">g</span> <span class="ow">=</span> <span class="n">h</span> <span class="n">x</span>                      <span class="c1">-- Warning: g unused</span>
<span class="nf">h</span> <span class="ow">=</span> <span class="n">rhs2</span>                     <span class="c1">-- Warning: h is only used in the</span>
                             <span class="c1">-- right-hand side of another unused binding</span>
<span class="nf">_w</span> <span class="ow">=</span> <span class="kt">True</span>                    <span class="c1">-- No warning: _w starts with an underscore</span>
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-local-binds">
<code class="descname">-Wunused-local-binds</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-local-binds" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-31">Report any local definitions which are unused. For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">module</span> <span class="nn">A</span> <span class="p">(</span><span class="nf">f</span><span class="p">)</span> <span class="kr">where</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="kr">let</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span> <span class="ow">=</span> <span class="n">rhs1</span> <span class="kr">in</span> <span class="n">t</span> <span class="n">p</span>  <span class="c1">-- Warning: q is unused</span>
<span class="nf">g</span> <span class="ow">=</span> <span class="n">h</span> <span class="n">x</span>                      <span class="c1">-- No warning: g is unused, but is a top-level binding</span>
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-pattern-binds">
<code class="descname">-Wunused-pattern-binds</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-pattern-binds" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-32">Warn if a pattern binding binds no variables at all, unless it is a
lone, possibly-banged, wild-card pattern. For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kt">Just</span> <span class="kr">_</span> <span class="ow">=</span> <span class="n">rhs3</span>    <span class="c1">-- Warning: unused pattern binding</span>
<span class="p">(</span><span class="kr">_</span><span class="p">,</span> <span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">rhs4</span>    <span class="c1">-- Warning: unused pattern binding</span>
<span class="kr">_</span>  <span class="ow">=</span> <span class="n">rhs3</span>        <span class="c1">-- No warning: lone wild-card pattern</span>
<span class="o">!</span><span class="kr">_</span> <span class="ow">=</span> <span class="n">rhs4</span>        <span class="c1">-- No warning: banged wild-card pattern; behaves like seq</span>
</pre></div>
</div>
<p>The motivation for allowing lone wild-card patterns is they are not
very different from <code class="docutils literal"><span class="pre">_v</span> <span class="pre">=</span> <span class="pre">rhs3</span></code>, which elicits no warning; and
they can be useful to add a type constraint, e.g. <code class="docutils literal"><span class="pre">_</span> <span class="pre">=</span> <span class="pre">x::Int</span></code>. A
lone banged wild-card pattern is useful as an alternative (to
<code class="docutils literal"><span class="pre">seq</span></code>) way to force evaluation.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-imports">
<code class="descname">-Wunused-imports</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-imports" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-33">Report any modules that are explicitly imported but never used.
However, the form <code class="docutils literal"><span class="pre">import</span> <span class="pre">M()</span></code> is never reported as an unused
import, because it is a useful idiom for importing instance
declarations, which are anonymous in Haskell.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-matches">
<code class="descname">-Wunused-matches</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-matches" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-34">Report all unused variables which arise from term-level pattern matches,
including patterns consisting of a single variable. For instance
<code class="docutils literal"><span class="pre">f</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">[]</span></code> would report <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> as unused. The warning
is suppressed if the variable name begins with an underscore, thus:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="n">_x</span> <span class="ow">=</span> <span class="kt">True</span>
</pre></div>
</div>
<p>Note that <a class="reference internal" href="#ghc-flag--Wunused-matches"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-matches</span></code></a> does not warn about variables which
arise from type-level patterns, as found in type family and data family
instances. This must be enabled separately through the
<a class="reference internal" href="#ghc-flag--Wunused-type-patterns"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-type-patterns</span></code></a> flag.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-do-bind">
<code class="descname">-Wunused-do-bind</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-do-bind" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-35">Report expressions occurring in <code class="docutils literal"><span class="pre">do</span></code> and <code class="docutils literal"><span class="pre">mdo</span></code> blocks that
appear to silently throw information away. For instance
<code class="docutils literal"><span class="pre">do</span> <span class="pre">{</span> <span class="pre">mapM</span> <span class="pre">popInt</span> <span class="pre">xs</span> <span class="pre">;</span> <span class="pre">return</span> <span class="pre">10</span> <span class="pre">}</span></code> would report the first
statement in the <code class="docutils literal"><span class="pre">do</span></code> block as suspicious, as it has the type
<code class="docutils literal"><span class="pre">StackM</span> <span class="pre">[Int]</span></code> and not <code class="docutils literal"><span class="pre">StackM</span> <span class="pre">()</span></code>, but that <code class="docutils literal"><span class="pre">[Int]</span></code> value is
not bound to anything. The warning is suppressed by explicitly
mentioning in the source code that your program is throwing
something away:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="kr">_</span> <span class="ow">&lt;-</span> <span class="n">mapM</span> <span class="n">popInt</span> <span class="n">xs</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
<p>Of course, in this particular situation you can do even better:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="n">mapM_</span> <span class="n">popInt</span> <span class="n">xs</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-type-patterns">
<code class="descname">-Wunused-type-patterns</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-type-patterns" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-36">Report all unused type variables which arise from patterns in type family
and data family instances. For instance:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">type</span> <span class="kr">instance</span> <span class="kt">F</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="kt">[]</span>
</pre></div>
</div>
<p>would report <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> as unused. The warning is suppressed if the
type variable name begins with an underscore, like so:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">type</span> <span class="kr">instance</span> <span class="kt">F</span> <span class="n">_x</span> <span class="n">_y</span> <span class="ow">=</span> <span class="kt">[]</span>
</pre></div>
</div>
<p>Unlike <a class="reference internal" href="#ghc-flag--Wunused-matches"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-matches</span></code></a>, <code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wunused-type-variables</span></code> is
not implied by <a class="reference internal" href="#ghc-flag--Wall"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-Wall</span></code></a>. The rationale for this decision is that
unlike term-level pattern names, type names are often chosen expressly for
documentation purposes, so using underscores in type names can make the
documentation harder to read.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wunused-foralls">
<code class="descname">-Wunused-foralls</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wunused-foralls" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-37">Report all unused type variables which arise from explicit, user-written
<code class="docutils literal"><span class="pre">forall</span></code> statements. For instance:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">g</span> <span class="ow">::</span> <span class="n">forall</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">.</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>would report <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">c</span></code> as unused.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Wwrong-do-bind">
<code class="descname">-Wwrong-do-bind</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Wwrong-do-bind" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-38">Report expressions occurring in <code class="docutils literal"><span class="pre">do</span></code> and <code class="docutils literal"><span class="pre">mdo</span></code> blocks that
appear to lack a binding. For instance
<code class="docutils literal"><span class="pre">do</span> <span class="pre">{</span> <span class="pre">return</span> <span class="pre">(popInt</span> <span class="pre">10)</span> <span class="pre">;</span> <span class="pre">return</span> <span class="pre">10</span> <span class="pre">}</span></code> would report the first
statement in the <code class="docutils literal"><span class="pre">do</span></code> block as suspicious, as it has the type
<code class="docutils literal"><span class="pre">StackM</span> <span class="pre">(StackM</span> <span class="pre">Int)</span></code> (which consists of two nested applications
of the same monad constructor), but which is not then &#8220;unpacked&#8221; by
binding the result. The warning is suppressed by explicitly
mentioning in the source code that your program is throwing
something away:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="kr">_</span> <span class="ow">&lt;-</span> <span class="n">return</span> <span class="p">(</span><span class="n">popInt</span> <span class="mi">10</span><span class="p">)</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
<p>For almost all sensible programs this will indicate a bug, and you
probably intended to write:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="n">popInt</span> <span class="mi">10</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Winline-rule-shadowing">
<code class="descname">-Winline-rule-shadowing</code><code class="descclassname"> </code><a class="headerlink" href="#ghc-flag--Winline-rule-shadowing" title="Permalink to this definition">¶</a></dt>
<dd><p>Warn if a rewrite RULE might fail to fire because the function might
be inlined before the rule has a chance to fire. See
<a class="reference internal" href="glasgow_exts.html#rules-inline"><span>How rules interact with INLINE/NOINLINE pragmas</span></a>.</p>
</dd></dl>

<p>If you&#8217;re feeling really paranoid, the <a class="reference internal" href="debugging.html#ghc-flag--dcore-lint"><code class="xref std std-ghc-flag docutils literal"><span class="pre">-dcore-lint</span></code></a> option is a good choice.
It turns on heavyweight intra-pass sanity-checking within GHC. (It checks GHC&#8217;s
sanity, not yours.)</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="using-optimisation.html" title="7.3. Optimisation (code improvement)"
             >next</a> |</li>
        <li class="right" >
          <a href="using.html" title="7.1. GHCを使う"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 8.0.2 Users Guide</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="usage.html" >7. GHCを使う</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, GHC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>