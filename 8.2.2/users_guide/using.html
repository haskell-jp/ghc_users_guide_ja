
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>7.1. Using GHC &mdash; Glasgow Haskell Compiler 8.2.2 User&#39;s Guide</title>
    
    <link rel="stylesheet" href="_static/ghc-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '8.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Glasgow Haskell Compiler 8.2.2 User&#39;s Guide"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Glasgow Haskell Compiler 8.2.2 User&#39;s Guide" href="index.html" />
    <link rel="up" title="7. Using GHC" href="usage.html" />
    <link rel="next" title="7.2. Warnings and sanity-checking" href="using-warnings.html" />
    <link rel="prev" title="7. Using GHC" href="usage.html" /> 
  </head>
  <body>
<div class="logo">
    <h1><a href="index.html">Glasgow Haskell Compiler User's Guide</a></h1>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="using-warnings.html" title="7.2. Warnings and sanity-checking"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="7. Using GHC"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">GHC 8.2.2 User&#39;s Guide</a> &raquo;</li>
          <li><a href="usage.html" accesskey="U">7. Using GHC</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="using.html#">7.1. Using GHC</a><ul>
<li><a class="reference internal" href="using.html#getting-started-compiling-programs">7.1.1. Getting started: compiling programs</a></li>
<li><a class="reference internal" href="using.html#options-overview">7.1.2. Options overview</a><ul>
<li><a class="reference internal" href="using.html#command-line-arguments">7.1.2.1. Command-line arguments</a></li>
<li><a class="reference internal" href="using.html#command-line-options-in-source-files">7.1.2.2. Command line options in source files</a></li>
<li><a class="reference internal" href="using.html#setting-options-in-ghci">7.1.2.3. Setting options in GHCi</a></li>
</ul>
</li>
<li><a class="reference internal" href="using.html#static-dynamic-and-mode-options">7.1.3. Static, Dynamic, and Mode options</a></li>
<li><a class="reference internal" href="using.html#meaningful-file-suffixes">7.1.4. Meaningful file suffixes</a></li>
<li><a class="reference internal" href="using.html#modes-of-operation">7.1.5. Modes of operation</a><ul>
<li><a class="reference internal" href="using.html#using-ghc-make">7.1.5.1. Using <tt class="docutils literal"><span class="pre">ghc</span></tt> <tt class="docutils literal"><span class="pre">--make</span></tt></a></li>
<li><a class="reference internal" href="using.html#expression-evaluation-mode">7.1.5.2. Expression evaluation mode</a></li>
<li><a class="reference internal" href="using.html#batch-compiler-mode">7.1.5.3. Batch compiler mode</a><ul>
<li><a class="reference internal" href="using.html#overriding-the-default-behaviour-for-a-file">7.1.5.3.1. Overriding the default behaviour for a file</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="using.html#verbosity-options">7.1.6. Verbosity options</a></li>
<li><a class="reference internal" href="using.html#platform-specific-flags">7.1.7. Platform-specific Flags</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="usage.html"
                        title="previous chapter">7. Using GHC</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="using-warnings.html"
                        title="next chapter">7.2. Warnings and sanity-checking</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/using.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="using-ghc">
<span id="id1"></span><h1>7.1. Using GHC<a class="headerlink" href="using.html#using-ghc" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-started-compiling-programs">
<span id="index-0"></span><h2>7.1.1. Getting started: compiling programs<a class="headerlink" href="using.html#getting-started-compiling-programs" title="Permalink to this headline">¶</a></h2>
<p>In this chapter you&#8217;ll find a complete reference to the GHC command-line
syntax, including all 400+ flags. It&#8217;s a large and complex system, and
there are lots of details, so it can be quite hard to figure out how to
get started. With that in mind, this introductory section provides a
quick introduction to the basic usage of GHC for compiling a Haskell
program, before the following sections dive into the full syntax.</p>
<p>Let&#8217;s create a Hello World program, and compile and run it. First,
create a file <tt class="file docutils literal"><span class="pre">hello.hs</span></tt> containing the Haskell code:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">main</span> <span class="ow">=</span> <span class="n">putStrLn</span> <span class="s">&quot;Hello, World!&quot;</span>
</pre></div>
</div>
<p>To compile the program, use GHC like this:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>ghc hello.hs
</pre></div>
</div>
<p>(where <tt class="docutils literal"><span class="pre">$</span></tt> represents the prompt: don&#8217;t type it). GHC will compile the
source file <tt class="file docutils literal"><span class="pre">hello.hs</span></tt>, producing an object file <tt class="file docutils literal"><span class="pre">hello.o</span></tt> and an
interface file <tt class="file docutils literal"><span class="pre">hello.hi</span></tt>, and then it will link the object file to
the libraries that come with GHC to produce an executable called
<tt class="file docutils literal"><span class="pre">hello</span></tt> on Unix/Linux/Mac, or <tt class="file docutils literal"><span class="pre">hello.exe</span></tt> on Windows.</p>
<p>By default GHC will be very quiet about what it is doing, only printing
error messages. If you want to see in more detail what&#8217;s going on behind
the scenes, add <a class="reference internal" href="using.html#ghc-flag--v"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-v</span></tt></a> to the command line.</p>
<p>Then we can run the program like this:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>./hello
Hello World!
</pre></div>
</div>
<p>If your program contains multiple modules, then you only need to tell
GHC the name of the source file containing the <tt class="docutils literal"><span class="pre">Main</span></tt> module, and GHC
will examine the <tt class="docutils literal"><span class="pre">import</span></tt> declarations to find the other modules that
make up the program and find their source files. This means that, with
the exception of the <tt class="docutils literal"><span class="pre">Main</span></tt> module, every source file should be named
after the module name that it contains (with dots replaced by directory
separators). For example, the module <tt class="docutils literal"><span class="pre">Data.Person</span></tt> would be in the
file <tt class="docutils literal"><span class="pre">Data/Person.hs</span></tt> on Unix/Linux/Mac, or <tt class="docutils literal"><span class="pre">Data\Person.hs</span></tt> on
Windows.</p>
</div>
<div class="section" id="options-overview">
<h2>7.1.2. Options overview<a class="headerlink" href="using.html#options-overview" title="Permalink to this headline">¶</a></h2>
<p>GHC&#8217;s behaviour is controlled by options, which for historical reasons
are also sometimes referred to as command-line flags or arguments.
Options can be specified in three ways:</p>
<div class="section" id="command-line-arguments">
<h3>7.1.2.1. Command-line arguments<a class="headerlink" href="using.html#command-line-arguments" title="Permalink to this headline">¶</a></h3>
<p id="index-1">An invocation of GHC takes the following form:</p>
<div class="highlight-none"><div class="highlight"><pre>ghc [argument...]
</pre></div>
</div>
<p>Command-line arguments are either options or file names.</p>
<p>Command-line options begin with <tt class="docutils literal"><span class="pre">-</span></tt>. They may <em>not</em> be grouped:
<tt class="docutils literal"><span class="pre">-vO</span></tt> is different from <tt class="docutils literal"><span class="pre">-v</span> <span class="pre">-O</span></tt>. Options need not precede filenames:
e.g., <tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">*.o</span> <span class="pre">-o</span> <span class="pre">foo</span></tt>. All options are processed and then applied to
all files; you cannot, for example, invoke
<tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">-c</span> <span class="pre">-O1</span> <span class="pre">Foo.hs</span> <span class="pre">-O2</span> <span class="pre">Bar.hs</span></tt> to apply different optimisation levels
to the files <tt class="docutils literal"><span class="pre">Foo.hs</span></tt> and <tt class="docutils literal"><span class="pre">Bar.hs</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p id="index-2">Note that command-line options are <em>order-dependent</em>, with arguments being
evaluated from left-to-right. This can have seemingly strange effects in the
presence of flag implication. For instance, consider
<a class="reference internal" href="using-optimisation.html#ghc-flag--fspecialise"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fno-specialise</span></tt></a> and <a class="reference internal" href="using-optimisation.html#ghc-flag--O1"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-O1</span></tt></a> (which implies
<a class="reference internal" href="using-optimisation.html#ghc-flag--fspecialise"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fspecialise</span></tt></a>). These two command lines mean very different
things:</p>
<p><tt class="docutils literal"><span class="pre">-fno-specialise</span> <span class="pre">-O1</span></tt></p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">-fspecialise</span></tt> will be enabled as the <tt class="docutils literal"><span class="pre">-fno-specialise</span></tt> is overriden
by the <tt class="docutils literal"><span class="pre">-O1</span></tt>.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">-O1</span> <span class="pre">-fno-specialise</span></tt></p>
<blockquote class="last">
<div><tt class="docutils literal"><span class="pre">-fspecialise</span></tt> will not be enabled, since the <tt class="docutils literal"><span class="pre">-fno-specialise</span></tt>
overrides the <tt class="docutils literal"><span class="pre">-fspecialise</span></tt> implied by <tt class="docutils literal"><span class="pre">-O1</span></tt>.</div></blockquote>
</div>
</div>
<div class="section" id="command-line-options-in-source-files">
<span id="source-file-options"></span><h3>7.1.2.2. Command line options in source files<a class="headerlink" href="using.html#command-line-options-in-source-files" title="Permalink to this headline">¶</a></h3>
<p id="index-3">Sometimes it is useful to make the connection between a source file and
the command-line options it requires quite tight. For instance, if a
Haskell source file deliberately uses name shadowing, it should be
compiled with the <tt class="docutils literal"><span class="pre">-Wno-name-shadowing</span></tt> option. Rather than
maintaining the list of per-file options in a <tt class="docutils literal"><span class="pre">Makefile</span></tt>, it is
possible to do this directly in the source file using the
<tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> <a class="reference internal" href="glasgow_exts.html#options-pragma"><em>pragma</em></a></p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="cm">{-# OPTIONS_GHC -Wno-name-shadowing #-}</span>
<span class="kr">module</span> <span class="nn">X</span> <span class="kr">where</span>
<span class="o">...</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> is a <em>file-header pragma</em> (see <a class="reference internal" href="glasgow_exts.html#options-pragma"><em>OPTIONS_GHC pragma</em></a>).</p>
<p>Only <em>dynamic</em> flags can be used in an <tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> pragma (see
<a class="reference internal" href="using.html#static-dynamic-flags"><em>Static, Dynamic, and Mode options</em></a>).</p>
<p>Note that your command shell does not get to the source file options,
they are just included literally in the array of command-line arguments
the compiler maintains internally, so you&#8217;ll be desperately disappointed
if you try to glob etc. inside <tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The contents of <tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> are appended to the command-line
options, so options given in the source file override those given on the
command-line.</p>
</div>
<p>It is not recommended to move all the contents of your Makefiles into
your source files, but in some circumstances, the <tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> pragma
is the Right Thing. (If you use <a class="reference internal" href="separate_compilation.html#ghc-flag--keep-hc-file"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-keep-hc-file</span></tt></a> and have <tt class="docutils literal"><span class="pre">OPTION</span></tt> flags in
your module, the <tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> will get put into the generated <tt class="docutils literal"><span class="pre">.hc</span></tt> file).</p>
</div>
<div class="section" id="setting-options-in-ghci">
<h3>7.1.2.3. Setting options in GHCi<a class="headerlink" href="using.html#setting-options-in-ghci" title="Permalink to this headline">¶</a></h3>
<p>Options may also be modified from within GHCi, using the <a class="reference internal" href="ghci.html#ghci-cmd-:set"><tt class="xref std std-ghci-cmd docutils literal"><span class="pre">:set</span></tt></a>
command.</p>
</div>
</div>
<div class="section" id="static-dynamic-and-mode-options">
<span id="static-dynamic-flags"></span><h2>7.1.3. Static, Dynamic, and Mode options<a class="headerlink" href="using.html#static-dynamic-and-mode-options" title="Permalink to this headline">¶</a></h2>
<p id="index-4">Each of GHC&#8217;s command line options is classified as static, dynamic or
mode:</p>
<blockquote>
<div><p>For example, <a class="reference internal" href="using.html#ghc-flag---make"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--make</span></tt></a> or <a class="reference internal" href="using.html#ghc-flag--E"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-E</span></tt></a>. There may only be a single mode
flag on the command line. The available modes are listed in
<a class="reference internal" href="using.html#modes"><em>Modes of operation</em></a>.</p>
<p>Most non-mode flags fall into this category. A dynamic flag may be
used on the command line, in a <tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> pragma in a source
file, or set using <a class="reference internal" href="ghci.html#ghci-cmd-:set"><tt class="xref std std-ghci-cmd docutils literal"><span class="pre">:set</span></tt></a> in GHCi.</p>
<p>A few flags are &#8220;static&#8221;, which means they can only be used on the
command-line, and remain in force over the entire GHC/GHCi run.</p>
</div></blockquote>
<p>The flag reference tables (<a class="reference internal" href="flags.html#flag-reference"><em>Flag reference</em></a>) lists the status of
each flag.</p>
<p>There are a few flags that are static except that they can also be used
with GHCi&#8217;s <a class="reference internal" href="ghci.html#ghci-cmd-:set"><tt class="xref std std-ghci-cmd docutils literal"><span class="pre">:set</span></tt></a> command; these are listed as “static/<tt class="docutils literal"><span class="pre">:set</span></tt>”
in the table.</p>
</div>
<div class="section" id="meaningful-file-suffixes">
<span id="file-suffixes"></span><h2>7.1.4. Meaningful file suffixes<a class="headerlink" href="using.html#meaningful-file-suffixes" title="Permalink to this headline">¶</a></h2>
<p id="index-5">File names with &#8220;meaningful&#8221; suffixes (e.g., <tt class="docutils literal"><span class="pre">.lhs</span></tt> or <tt class="docutils literal"><span class="pre">.o</span></tt>) cause
the &#8220;right thing&#8221; to happen to those files.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">.hs</span></tt></dt>
<dd>A Haskell module.</dd>
<dt><tt class="docutils literal"><span class="pre">.lhs</span></tt></dt>
<dd><p class="first last" id="index-6">A “literate Haskell” module.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">.hspp</span></tt></dt>
<dd>A file created by the preprocessor.</dd>
<dt><tt class="docutils literal"><span class="pre">.hi</span></tt></dt>
<dd>A Haskell interface file, probably compiler-generated.</dd>
<dt><tt class="docutils literal"><span class="pre">.hc</span></tt></dt>
<dd>Intermediate C file produced by the Haskell compiler.</dd>
<dt><tt class="docutils literal"><span class="pre">.c</span></tt></dt>
<dd>A C&nbsp;file not produced by the Haskell compiler.</dd>
<dt><tt class="docutils literal"><span class="pre">.ll</span></tt></dt>
<dd>An llvm-intermediate-language source file, usually produced by the
compiler.</dd>
<dt><tt class="docutils literal"><span class="pre">.bc</span></tt></dt>
<dd>An llvm-intermediate-language bitcode file, usually produced by the
compiler.</dd>
<dt><tt class="docutils literal"><span class="pre">.s</span></tt></dt>
<dd>An assembly-language source file, usually produced by the compiler.</dd>
<dt><tt class="docutils literal"><span class="pre">.o</span></tt></dt>
<dd>An object file, produced by an assembler.</dd>
</dl>
<p>Files with other suffixes (or without suffixes) are passed straight to
the linker.</p>
</div>
<div class="section" id="modes-of-operation">
<span id="modes"></span><h2>7.1.5. Modes of operation<a class="headerlink" href="using.html#modes-of-operation" title="Permalink to this headline">¶</a></h2>
<p id="index-7">GHC&#8217;s behaviour is firstly controlled by a mode flag. Only one of these
flags may be given, but it does not necessarily need to be the first
option on the command-line. For instance,</p>
<div class="highlight-none"><div class="highlight"><pre>$ ghc Main.hs --make -o my-application
</pre></div>
</div>
<p>If no mode flag is present, then GHC will enter <a class="reference internal" href="using.html#ghc-flag---make"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--make</span></tt></a> mode
(<a class="reference internal" href="using.html#make-mode"><em>Using ghc &#8211;make</em></a>) if there are any Haskell source files given on the
command line, or else it will link the objects named on the command line
to produce an executable.</p>
<p>The available mode flags are:</p>
<dl class="ghc-flag">
<dt id="ghc-flag---interactive">
<tt class="descname">--interactive</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---interactive" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-8">Interactive mode, which is also available as <strong class="program">ghci</strong>. Interactive
mode is described in more detail in <a class="reference internal" href="ghci.html#ghci"><em>Using GHCi</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---make">
<tt class="descname">--make</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---make" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-9">In this mode, GHC will build a multi-module Haskell program
automatically, figuring out dependencies for itself. If you have a
straightforward Haskell program, this is likely to be much easier,
and faster, than using <strong class="command">make</strong>. Make mode is described in
<a class="reference internal" href="using.html#make-mode"><em>Using ghc &#8211;make</em></a>.</p>
<p>This mode is the default if there are any Haskell source files
mentioned on the command line, and in this case the <a class="reference internal" href="using.html#ghc-flag---make"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--make</span></tt></a>
option can be omitted.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--e ⟨expr⟩">
<tt class="descname">-e</tt><tt class="descclassname"> ⟨expr⟩</tt><a class="headerlink" href="using.html#ghc-flag--e ⟨expr⟩" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-10">Expression-evaluation mode. This is very similar to interactive
mode, except that there is a single expression to evaluate (⟨expr⟩)
which is given on the command line. See <a class="reference internal" href="using.html#eval-mode"><em>Expression evaluation mode</em></a> for more
details.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--E">
<tt class="descname">-E</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--E" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--C">
<tt class="descname">-C</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--C" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--S">
<tt class="descname">-S</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--S" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--c">
<tt class="descname">-c</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--c" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the traditional batch-compiler mode, in which GHC can
compile source files one at a time, or link objects together into an
executable. See <a class="reference internal" href="using.html#options-order"><em>Batch compiler mode</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--M">
<tt class="descname">-M</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--M" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-11">Dependency-generation mode. In this mode, GHC can be used to
generate dependency information suitable for use in a <tt class="docutils literal"><span class="pre">Makefile</span></tt>.
See <a class="reference internal" href="separate_compilation.html#makefile-dependencies"><em>Dependency generation</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---frontend ⟨module⟩">
<tt class="descname">--frontend</tt><tt class="descclassname"> ⟨module⟩</tt><a class="headerlink" href="using.html#ghc-flag---frontend ⟨module⟩" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-12">Run GHC using the given frontend plugin. See <a class="reference internal" href="extending_ghc.html#frontend-plugins"><em>Frontend plugins</em></a> for
details.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---mk-dll">
<tt class="descname">--mk-dll</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---mk-dll" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-13">DLL-creation mode (Windows only). See <a class="reference internal" href="win32-dlls.html#win32-dlls-create"><em>Creating a DLL</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---help">
<tt class="descname">--help</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---help" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--?">
<tt class="descname">-?</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--?" title="Permalink to this definition">¶</a></dt>
<dd><p>Cause GHC to spew a long usage message to standard output and then
exit.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---show-iface ⟨file⟩">
<tt class="descname">--show-iface</tt><tt class="descclassname"> ⟨file⟩</tt><a class="headerlink" href="using.html#ghc-flag---show-iface ⟨file⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the interface in ⟨file⟩ and dump it as text to <tt class="docutils literal"><span class="pre">stdout</span></tt>. For
example <tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">--show-iface</span> <span class="pre">M.hi</span></tt>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---supported-extensions">
<tt class="descname">--supported-extensions</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---supported-extensions" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag---supported-languages">
<tt class="descname">--supported-languages</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---supported-languages" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the supported language extensions.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---show-options">
<tt class="descname">--show-options</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---show-options" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the supported command line options. This flag can be used for
autocompletion in a shell.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---info">
<tt class="descname">--info</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print information about the compiler.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---version">
<tt class="descname">--version</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---version" title="Permalink to this definition">¶</a></dt>
<dt id="ghc-flag--V">
<tt class="descname">-V</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--V" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a one-line string including GHC&#8217;s version number.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---numeric-version">
<tt class="descname">--numeric-version</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---numeric-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print GHC&#8217;s numeric version number only.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag---print-libdir">
<tt class="descname">--print-libdir</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag---print-libdir" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-14">Print the path to GHC&#8217;s library directory. This is the top of the
directory tree containing GHC&#8217;s libraries, interfaces, and include
files (usually something like <tt class="docutils literal"><span class="pre">/usr/local/lib/ghc-5.04</span></tt> on Unix).
This is the value of <tt class="docutils literal"><span class="pre">$libdir</span></tt> in the package
configuration file (see <a class="reference internal" href="packages.html#packages"><em>Packages</em></a>).</p>
</dd></dl>

<div class="section" id="using-ghc-make">
<span id="make-mode"></span><h3>7.1.5.1. Using <tt class="docutils literal"><span class="pre">ghc</span></tt> <tt class="docutils literal"><span class="pre">--make</span></tt><a class="headerlink" href="using.html#using-ghc-make" title="Permalink to this headline">¶</a></h3>
<p id="index-15">In this mode, GHC will build a multi-module Haskell program by following
dependencies from one or more root modules (usually just <tt class="docutils literal"><span class="pre">Main</span></tt>). For
example, if your <tt class="docutils literal"><span class="pre">Main</span></tt> module is in a file called <tt class="file docutils literal"><span class="pre">Main.hs</span></tt>, you
could compile and link the program like this:</p>
<div class="highlight-none"><div class="highlight"><pre>ghc --make Main.hs
</pre></div>
</div>
<p>In fact, GHC enters make mode automatically if there are any Haskell
source files on the command line and no other mode is specified, so in
this case we could just type</p>
<div class="highlight-none"><div class="highlight"><pre>ghc Main.hs
</pre></div>
</div>
<p>Any number of source file names or module names may be specified; GHC
will figure out all the modules in the program by following the imports
from these initial modules. It will then attempt to compile each module
which is out of date, and finally, if there is a <tt class="docutils literal"><span class="pre">Main</span></tt> module, the
program will also be linked into an executable.</p>
<p>The main advantages to using <tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">--make</span></tt> over traditional
<tt class="docutils literal"><span class="pre">Makefile</span></tt>s are:</p>
<ul>
<li><p class="first">GHC doesn&#8217;t have to be restarted for each compilation, which means it
can cache information between compilations. Compiling a multi-module
program with <tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">--make</span></tt> can be up to twice as fast as running
<tt class="docutils literal"><span class="pre">ghc</span></tt> individually on each source file.</p>
</li>
<li><p class="first">You don&#8217;t have to write a <tt class="docutils literal"><span class="pre">Makefile</span></tt>.</p>
</li>
<li id="index-16"><p class="first">GHC re-calculates the dependencies each time it is invoked, so the
dependencies never get out of sync with the source.</p>
</li>
<li><p class="first">Using the <a class="reference internal" href="using.html#ghc-flag--j[⟨n⟩]"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-j[⟨n⟩]</span></tt></a> flag, you can compile modules in parallel.
Specify <tt class="docutils literal"><span class="pre">-j</span> <span class="pre">⟨n⟩</span></tt> to compile ⟨n⟩ jobs in parallel. If ⟨n⟩ is omitted, then
it defaults to the number of processors.</p>
</li>
</ul>
<p>Any of the command-line options described in the rest of this chapter
can be used with <tt class="docutils literal"><span class="pre">--make</span></tt>, but note that any options you give on the
command line will apply to all the source files compiled, so if you want
any options to apply to a single source file only, you&#8217;ll need to use an
<tt class="docutils literal"><span class="pre">OPTIONS_GHC</span></tt> pragma (see <a class="reference internal" href="using.html#source-file-options"><em>Command line options in source files</em></a>).</p>
<p>If the program needs to be linked with additional objects (say, some
auxiliary C code), then the object files can be given on the command
line and GHC will include them when linking the executable.</p>
<p>For backward compatibility with existing make scripts, when used in
combination with <a class="reference internal" href="using.html#ghc-flag--c"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-c</span></tt></a>, the linking phase is omitted (same as
<tt class="docutils literal"><span class="pre">--make</span> <span class="pre">-no-link</span></tt>).</p>
<p>Note that GHC can only follow dependencies if it has the source file
available, so if your program includes a module for which there is no
source file, even if you have an object and an interface file for the
module, then GHC will complain. The exception to this rule is for
package modules, which may or may not have source files.</p>
<p>The source files for the program don&#8217;t all need to be in the same
directory; the <a class="reference internal" href="separate_compilation.html#ghc-flag--i"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-i</span></tt></a> option can be used to add directories to the
search path (see <a class="reference internal" href="separate_compilation.html#search-path"><em>The search path</em></a>).</p>
<dl class="ghc-flag">
<dt id="ghc-flag--j[⟨n⟩]">
<tt class="descname">-j</tt><tt class="descclassname">[⟨n⟩]</tt><a class="headerlink" href="using.html#ghc-flag--j[⟨n⟩]" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform compilation in parallel when possible. GHC will use up to ⟨N⟩
threads during compilation. If N is omitted, then it defaults to the
number of processors. Note that compilation of a module may not begin
until its dependencies have been built.</p>
</dd></dl>

</div>
<div class="section" id="expression-evaluation-mode">
<span id="eval-mode"></span><h3>7.1.5.2. Expression evaluation mode<a class="headerlink" href="using.html#expression-evaluation-mode" title="Permalink to this headline">¶</a></h3>
<p>This mode is very similar to interactive mode, except that there is a
single expression to evaluate which is specified on the command line as
an argument to the <tt class="docutils literal"><span class="pre">-e</span></tt> option:</p>
<div class="highlight-none"><div class="highlight"><pre>ghc -e expr
</pre></div>
</div>
<p>Haskell source files may be named on the command line, and they will be
loaded exactly as in interactive mode. The expression is evaluated in
the context of the loaded modules.</p>
<p>For example, to load and run a Haskell program containing a module
<tt class="docutils literal"><span class="pre">Main</span></tt>, we might say:</p>
<div class="highlight-none"><div class="highlight"><pre>ghc -e Main.main Main.hs
</pre></div>
</div>
<p>or we can just use this mode to evaluate expressions in the context of
the <tt class="docutils literal"><span class="pre">Prelude</span></tt>:</p>
<div class="highlight-none"><div class="highlight"><pre>$ ghc -e &quot;interact (unlines.map reverse.lines)&quot;
hello
olleh
</pre></div>
</div>
</div>
<div class="section" id="batch-compiler-mode">
<span id="options-order"></span><h3>7.1.5.3. Batch compiler mode<a class="headerlink" href="using.html#batch-compiler-mode" title="Permalink to this headline">¶</a></h3>
<p>In <em>batch mode</em>, GHC will compile one or more source files given on the
command line.</p>
<p>The first phase to run is determined by each input-file suffix, and the
last phase is determined by a flag. If no relevant flag is present, then
go all the way through to linking. This table summarises:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="25%" />
<col width="23%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Phase of the compilation system</th>
<th class="head">Suffix saying “start here”</th>
<th class="head">Flag saying “stop after”</th>
<th class="head">(suffix of) output file</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>literate pre-processor</td>
<td><tt class="docutils literal"><span class="pre">.lhs</span></tt></td>
<td>&nbsp;</td>
<td><tt class="docutils literal"><span class="pre">.hs</span></tt></td>
</tr>
<tr class="row-odd"><td>C pre-processor (opt.)</td>
<td><tt class="docutils literal"><span class="pre">.hs</span></tt> (with <tt class="docutils literal"><span class="pre">-cpp</span></tt>)</td>
<td><tt class="docutils literal"><span class="pre">-E</span></tt></td>
<td><tt class="docutils literal"><span class="pre">.hspp</span></tt></td>
</tr>
<tr class="row-even"><td>Haskell compiler</td>
<td><tt class="docutils literal"><span class="pre">.hs</span></tt></td>
<td><tt class="docutils literal"><span class="pre">-C</span></tt>, <tt class="docutils literal"><span class="pre">-S</span></tt></td>
<td><tt class="docutils literal"><span class="pre">.hc</span></tt>, <tt class="docutils literal"><span class="pre">.s</span></tt></td>
</tr>
<tr class="row-odd"><td>C compiler (opt.)</td>
<td><tt class="docutils literal"><span class="pre">.hc</span></tt> or <tt class="docutils literal"><span class="pre">.c</span></tt></td>
<td><tt class="docutils literal"><span class="pre">-S</span></tt></td>
<td><tt class="docutils literal"><span class="pre">.s</span></tt></td>
</tr>
<tr class="row-even"><td>assembler</td>
<td><tt class="docutils literal"><span class="pre">.s</span></tt></td>
<td><tt class="docutils literal"><span class="pre">-c</span></tt></td>
<td><tt class="docutils literal"><span class="pre">.o</span></tt></td>
</tr>
<tr class="row-odd"><td>linker</td>
<td>⟨other⟩</td>
<td>&nbsp;</td>
<td><tt class="docutils literal"><span class="pre">a.out</span></tt></td>
</tr>
</tbody>
</table>
<p id="index-17">Thus, a common invocation would be:</p>
<div class="highlight-none"><div class="highlight"><pre>ghc -c Foo.hs
</pre></div>
</div>
<p>to compile the Haskell source file <tt class="docutils literal"><span class="pre">Foo.hs</span></tt> to an object file
<tt class="docutils literal"><span class="pre">Foo.o</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">What the Haskell compiler proper produces depends on what backend
code generator is used. See <a class="reference internal" href="codegens.html#code-generators"><em>GHC Backends</em></a> for more details.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pre-processing is optional, the <a class="reference internal" href="phases.html#ghc-flag--cpp"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-cpp</span></tt></a> flag turns it
on. See <a class="reference internal" href="phases.html#c-pre-processor"><em>Options affecting the C pre-processor</em></a> for more details.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The option <a class="reference internal" href="using.html#ghc-flag--E"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-E</span></tt></a> runs just the pre-processing passes of
the compiler, dumping the result in a file.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The option <a class="reference internal" href="using.html#ghc-flag--C"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-C</span></tt></a> is only available when GHC is built in
unregisterised mode. See <a class="reference internal" href="codegens.html#unreg"><em>Unregisterised compilation</em></a> for more details.</p>
</div>
<div class="section" id="overriding-the-default-behaviour-for-a-file">
<span id="overriding-suffixes"></span><h4>7.1.5.3.1. Overriding the default behaviour for a file<a class="headerlink" href="using.html#overriding-the-default-behaviour-for-a-file" title="Permalink to this headline">¶</a></h4>
<p>As described above, the way in which a file is processed by GHC depends on its
suffix. This behaviour can be overridden using the <a class="reference internal" href="using.html#ghc-flag--x ⟨suffix⟩"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-x</span> <span class="pre">⟨suffix⟩</span></tt></a>
option:</p>
<dl class="ghc-flag">
<dt id="ghc-flag--x ⟨suffix⟩">
<tt class="descname">-x</tt><tt class="descclassname"> ⟨suffix⟩</tt><a class="headerlink" href="using.html#ghc-flag--x ⟨suffix⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes all files following this option on the command line to be
processed as if they had the suffix ⟨suffix⟩. For example, to
compile a Haskell module in the file <tt class="docutils literal"><span class="pre">M.my-hs</span></tt>, use
<tt class="docutils literal"><span class="pre">ghc</span> <span class="pre">-c</span> <span class="pre">-x</span> <span class="pre">hs</span> <span class="pre">M.my-hs</span></tt>.</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="verbosity-options">
<span id="options-help"></span><h2>7.1.6. Verbosity options<a class="headerlink" href="using.html#verbosity-options" title="Permalink to this headline">¶</a></h2>
<p id="index-18">See also the <tt class="docutils literal"><span class="pre">--help</span></tt>, <tt class="docutils literal"><span class="pre">--version</span></tt>, <tt class="docutils literal"><span class="pre">--numeric-version</span></tt>, and
<tt class="docutils literal"><span class="pre">--print-libdir</span></tt> modes in <a class="reference internal" href="using.html#modes"><em>Modes of operation</em></a>.</p>
<dl class="ghc-flag">
<dt id="ghc-flag--v">
<tt class="descname">-v</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--v" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="using.html#ghc-flag--v"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-v</span></tt></a> option makes GHC <em>verbose</em>: it reports its version number
and shows (on stderr) exactly how it invokes each phase of the
compilation system. Moreover, it passes the <tt class="docutils literal"><span class="pre">-v</span></tt> flag to most
phases; each reports its version number (and possibly some other
information).</p>
<p>Please, oh please, use the <tt class="docutils literal"><span class="pre">-v</span></tt> option when reporting bugs!
Knowing that you ran the right bits in the right order is always the
first thing we want to verify.</p>
</dd></dl>

<dl class="ghc-flag">
<dt>
<tt class="descname">-v</tt><tt class="descclassname"> ⟨n⟩</tt></dt>
<dd><p>To provide more control over the compiler&#8217;s verbosity, the <tt class="docutils literal"><span class="pre">-v</span></tt>
flag takes an optional numeric argument. Specifying <tt class="docutils literal"><span class="pre">-v</span></tt> on its
own is equivalent to <tt class="docutils literal"><span class="pre">-v3</span></tt>, and the other levels have the
following meanings:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-v0</span></tt></dt>
<dd>Disable all non-essential messages (this is the default).</dd>
<dt><tt class="docutils literal"><span class="pre">-v1</span></tt></dt>
<dd>Minimal verbosity: print one line per compilation (this is the
default when <a class="reference internal" href="using.html#ghc-flag---make"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--make</span></tt></a> or <a class="reference internal" href="using.html#ghc-flag---interactive"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">--interactive</span></tt></a> is on).</dd>
<dt><tt class="docutils literal"><span class="pre">-v2</span></tt></dt>
<dd>Print the name of each compilation phase as it is executed.
(equivalent to <a class="reference internal" href="debugging.html#ghc-flag--dshow-passes"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-dshow-passes</span></tt></a>).</dd>
<dt><tt class="docutils literal"><span class="pre">-v3</span></tt></dt>
<dd>The same as <tt class="docutils literal"><span class="pre">-v2</span></tt>, except that in addition the full command
line (if appropriate) for each compilation phase is also
printed.</dd>
<dt><tt class="docutils literal"><span class="pre">-v4</span></tt></dt>
<dd>The same as <tt class="docutils literal"><span class="pre">-v3</span></tt> except that the intermediate program
representation after each compilation phase is also printed
(excluding preprocessed and C/assembly files).</dd>
</dl>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-potential-instances">
<tt class="descname">-fprint-potential-instances</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-potential-instances" title="Permalink to this definition">¶</a></dt>
<dd><p>When GHC can&#8217;t find an instance for a class, it displays a short
list of some in the instances it knows about. With this flag it
prints <em>all</em> the instances it knows about.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fhide-source-paths">
<tt class="descname">-fhide-source-paths</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fhide-source-paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Starting with minimal verbosity (<tt class="docutils literal"><span class="pre">-v1</span></tt>, see <a class="reference internal" href="using.html#ghc-flag--v"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-v</span></tt></a>), GHC
displays the name, the source path and the target path of each compiled
module. This flag can be used to reduce GHC&#8217;s output by hiding source paths
and target paths.</p>
</dd></dl>

<p>The following flags control the way in which GHC displays types in error
messages and in GHCi:</p>
<dl class="ghc-flag">
<dt id="ghc-flag--fprint-unicode-syntax">
<tt class="descname">-fprint-unicode-syntax</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-unicode-syntax" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled GHC prints type signatures using the unicode symbols from the
<a class="reference internal" href="glasgow_exts.html#ghc-flag--XUnicodeSyntax"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-XUnicodeSyntax</span></tt></a> extension. For instance,</p>
<div class="highlight-none"><div class="highlight"><pre>ghci&gt; :set -fprint-unicode-syntax
ghci&gt; :t +v (&gt;&gt;)
(&gt;&gt;) ∷ Monad m ⇒ ∀ a b. m a → m b → m b
</pre></div>
</div>
</dd></dl>

<span class="target" id="pretty-printing-types"></span><dl class="ghc-flag">
<dt id="ghc-flag--fprint-explicit-foralls">
<tt class="descname">-fprint-explicit-foralls</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-explicit-foralls" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="using.html#ghc-flag--fprint-explicit-foralls"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fprint-explicit-foralls</span></tt></a> makes
GHC print explicit <tt class="docutils literal"><span class="pre">forall</span></tt> quantification at the top level of a
type; normally this is suppressed. For example, in GHCi:</p>
<div class="highlight-none"><div class="highlight"><pre>ghci&gt; let f x = x
ghci&gt; :t f
f :: a -&gt; a
ghci&gt; :set -fprint-explicit-foralls
ghci&gt; :t f
f :: forall a. a -&gt; a
</pre></div>
</div>
<p>However, regardless of the flag setting, the quantifiers are printed
under these circumstances:</p>
<ul>
<li><p class="first">For nested <tt class="docutils literal"><span class="pre">foralls</span></tt>, e.g.</p>
<div class="highlight-none"><div class="highlight"><pre>ghci&gt; :t GHC.ST.runST
GHC.ST.runST :: (forall s. GHC.ST.ST s a) -&gt; a
</pre></div>
</div>
</li>
<li><p class="first">If any of the quantified type variables has a kind that mentions
a kind variable, e.g.</p>
<div class="highlight-none"><div class="highlight"><pre>ghci&gt; :i Data.Type.Equality.sym
Data.Type.Equality.sym ::
  forall (k :: BOX) (a :: k) (b :: k).
  (a Data.Type.Equality.:~: b) -&gt; b Data.Type.Equality.:~: a
        -- Defined in Data.Type.Equality
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-explicit-kinds">
<tt class="descname">-fprint-explicit-kinds</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-explicit-kinds" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="using.html#ghc-flag--fprint-explicit-kinds"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fprint-explicit-kinds</span></tt></a> makes GHC print kind arguments in
types, which are normally suppressed. This can be important when you
are using kind polymorphism. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>ghci&gt; :set -XPolyKinds
ghci&gt; data T a = MkT
ghci&gt; :t MkT
MkT :: forall (k :: BOX) (a :: k). T a
ghci&gt; :set -fprint-explicit-foralls
ghci&gt; :t MkT
MkT :: forall (k :: BOX) (a :: k). T k a
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-explicit-runtime-reps">
<tt class="descname">-fprint-explicit-runtime-reps</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-explicit-runtime-reps" title="Permalink to this definition">¶</a></dt>
<dd><p>When <a class="reference internal" href="using.html#ghc-flag--fprint-explicit-runtime-reps"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fprint-explicit-runtime-reps</span></tt></a> is enabled, GHC prints
<tt class="docutils literal"><span class="pre">RuntimeRep</span></tt> type variables for levity-polymorphic types.
Otherwise GHC will default these to <tt class="docutils literal"><span class="pre">PtrRepLifted</span></tt>. For example,</p>
<div class="highlight-none"><div class="highlight"><pre>ghci&gt; :t ($)
($) :: (a -&gt; b) -&gt; a -&gt; b
ghci&gt; :set -fprint-explicit-runtime-reps
ghci&gt; :t ($)
($)
  :: forall (r :: GHC.Types.RuntimeRep) a (b :: TYPE r).
     (a -&gt; b) -&gt; a -&gt; b
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-explicit-coercions">
<tt class="descname">-fprint-explicit-coercions</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-explicit-coercions" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="using.html#ghc-flag--fprint-explicit-coercions"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fprint-explicit-coercions</span></tt></a> makes GHC print coercions in
types. When trying to prove the equality between types of different
kinds, GHC uses type-level coercions. Users will rarely need to
see these, as they are meant to be internal.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-equality-relations">
<tt class="descname">-fprint-equality-relations</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-equality-relations" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="using.html#ghc-flag--fprint-equality-relations"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fprint-equality-relations</span></tt></a> tells GHC to distinguish between
its equality relations when printing. For example, <tt class="docutils literal"><span class="pre">~</span></tt> is homogeneous
lifted equality (the kinds of its arguments are the same) while
<tt class="docutils literal"><span class="pre">~~</span></tt> is heterogeneous lifted equality (the kinds of its arguments
might be different) and <tt class="docutils literal"><span class="pre">~#</span></tt> is heterogeneous unlifted equality,
the internal equality relation used in GHC&#8217;s solver. Generally,
users should not need to worry about the subtleties here; <tt class="docutils literal"><span class="pre">~</span></tt> is
probably what you want. Without <a class="reference internal" href="using.html#ghc-flag--fprint-equality-relations"><tt class="xref std std-ghc-flag docutils literal"><span class="pre">-fprint-equality-relations</span></tt></a>, GHC
prints all of these as <tt class="docutils literal"><span class="pre">~</span></tt>. See also <a class="reference internal" href="glasgow_exts.html#equality-constraints"><em>Equality constraints</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-expanded-synonyms">
<tt class="descname">-fprint-expanded-synonyms</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-expanded-synonyms" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled, GHC also prints type-synonym-expanded types in type
errors. For example, with this type synonyms:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">type</span> <span class="kt">Foo</span> <span class="ow">=</span> <span class="kt">Int</span>
<span class="kr">type</span> <span class="kt">Bar</span> <span class="ow">=</span> <span class="kt">Bool</span>
<span class="kr">type</span> <span class="kt">MyBarST</span> <span class="n">s</span> <span class="ow">=</span> <span class="kt">ST</span> <span class="n">s</span> <span class="kt">Bar</span>
</pre></div>
</div>
<p>This error message:</p>
<div class="highlight-none"><div class="highlight"><pre>Couldn&#39;t match type &#39;Int&#39; with &#39;Bool&#39;
Expected type: ST s Foo
  Actual type: MyBarST s
</pre></div>
</div>
<p>Becomes this:</p>
<div class="highlight-none"><div class="highlight"><pre>Couldn&#39;t match type &#39;Int&#39; with &#39;Bool&#39;
Expected type: ST s Foo
  Actual type: MyBarST s
Type synonyms expanded:
Expected type: ST s Int
  Actual type: ST s Bool
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fprint-typechecker-elaboration">
<tt class="descname">-fprint-typechecker-elaboration</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--fprint-typechecker-elaboration" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled, GHC also prints extra information from the typechecker in
warnings. For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">main</span> <span class="ow">::</span> <span class="kt">IO</span> <span class="nb">()</span>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
  <span class="n">return</span> <span class="o">$</span> <span class="kr">let</span> <span class="n">a</span> <span class="ow">=</span> <span class="s">&quot;hello&quot;</span> <span class="kr">in</span> <span class="n">a</span>
  <span class="n">return</span> <span class="nb">()</span>
</pre></div>
</div>
<p>This warning message:</p>
<div class="highlight-none"><div class="highlight"><pre>A do-notation statement discarded a result of type ‘[Char]’
Suppress this warning by saying
  ‘_ &lt;- ($) return let a = &quot;hello&quot; in a’
or by using the flag -fno-warn-unused-do-bind
</pre></div>
</div>
<p>Becomes this:</p>
<div class="highlight-none"><div class="highlight"><pre>A do-notation statement discarded a result of type ‘[Char]’
Suppress this warning by saying
  ‘_ &lt;- ($)
          return
          let
            AbsBinds [] []
              {Exports: [a &lt;= a
                           &lt;&gt;]
               Exported types: a :: [Char]
                               [LclId, Str=DmdType]
               Binds: a = &quot;hello&quot;}
          in a’
or by using the flag -fno-warn-unused-do-bind
</pre></div>
</div>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--fdiagnostics-color=⟨always|auto|never⟩">
<tt class="descname">-fdiagnostics-color</tt><tt class="descclassname">=⟨always|auto|never⟩</tt><a class="headerlink" href="using.html#ghc-flag--fdiagnostics-color=⟨always|auto|never⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes GHC to display error messages with colors.  To do this, the
terminal must have support for ANSI color codes, or else garbled text will
appear.  The default value is <tt class="docutils literal"><span class="pre">auto</span></tt>, which means GHC will make an
attempt to detect whether terminal supports colors and choose accordingly.</p>
<p>The precise color scheme is controlled by the environment variable
<tt class="docutils literal"><span class="pre">GHC_COLORS</span></tt> (or <tt class="docutils literal"><span class="pre">GHC_COLOURS</span></tt>).  This can be set to colon-separated
list of <tt class="docutils literal"><span class="pre">key=value</span></tt> pairs.  These are the default settings:</p>
<div class="highlight-none"><div class="highlight"><pre>header=:message=1:warning=1;35:error=1;31:fatal=1;31:margin=1;34
</pre></div>
</div>
<p>Each value is expected to be a <a class="reference external" href="https://en.wikipedia.org/wiki/ANSI_escape_code#graphics">Select Graphic Rendition (SGR) substring</a>.  The
formatting of each element can inherit from parent elements.  For example,
if <tt class="docutils literal"><span class="pre">header</span></tt> is left empty, it will inherit the formatting of
<tt class="docutils literal"><span class="pre">message</span></tt>.  Alternatively if <tt class="docutils literal"><span class="pre">header</span></tt> is set to <tt class="docutils literal"><span class="pre">1</span></tt> (bold), it will
be bolded but still inherits the color of <tt class="docutils literal"><span class="pre">message</span></tt>.</p>
<p>Currently, in the primary message, the following inheritance tree is in
place:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">message</span></tt><ul>
<li><tt class="docutils literal"><span class="pre">header</span></tt><ul>
<li><tt class="docutils literal"><span class="pre">warning</span></tt></li>
<li><tt class="docutils literal"><span class="pre">error</span></tt></li>
<li><tt class="docutils literal"><span class="pre">fatal</span></tt></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>In the caret diagnostics, there is currently no inheritance at all between
<tt class="docutils literal"><span class="pre">margin</span></tt>, <tt class="docutils literal"><span class="pre">warning</span></tt>, <tt class="docutils literal"><span class="pre">error</span></tt>, and <tt class="docutils literal"><span class="pre">fatal</span></tt>.</p>
<p>The environment variable can also be set to the magical values <tt class="docutils literal"><span class="pre">never</span></tt>
or <tt class="docutils literal"><span class="pre">always</span></tt>, which is equivalent to setting the corresponding
<tt class="docutils literal"><span class="pre">-fdiagnostics-color</span></tt> flag but with lower precedence.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--f[no-]diagnostics-show-caret">
<tt class="descname">-f</tt><tt class="descclassname">[no-]diagnostics-show-caret</tt><a class="headerlink" href="using.html#ghc-flag--f[no-]diagnostics-show-caret" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether GHC displays a line of the original source code where the
error was detected.  This also affects the associated caret symbol that
points at the region of code at fault.  The flag is on by default.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--ferror-spans">
<tt class="descname">-ferror-spans</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--ferror-spans" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes GHC to emit the full source span of the syntactic entity
relating to an error message. Normally, GHC emits the source
location of the start of the syntactic entity only.</p>
<p>For example:</p>
<div class="highlight-none"><div class="highlight"><pre>test.hs:3:6: parse error on input `where&#39;
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-none"><div class="highlight"><pre>test296.hs:3:6-10: parse error on input `where&#39;
</pre></div>
</div>
<p>And multi-line spans are possible too:</p>
<div class="highlight-none"><div class="highlight"><pre>test.hs:(5,4)-(6,7):
    Conflicting definitions for `a&#39;
    Bound at: test.hs:5:4
              test.hs:6:7
    In the binding group for: a, b, a
</pre></div>
</div>
<p>Note that line numbers start counting at one, but column numbers
start at zero. This choice was made to follow existing convention
(i.e. this is how Emacs does it).</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--H ⟨size⟩">
<tt class="descname">-H</tt><tt class="descclassname"> ⟨size⟩</tt><a class="headerlink" href="using.html#ghc-flag--H ⟨size⟩" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the minimum size of the heap to ⟨size⟩. This option is
equivalent to <tt class="docutils literal"><span class="pre">+RTS</span> <span class="pre">-Hsize</span></tt>, see <a class="reference internal" href="runtime_control.html#rts-options-gc"><em>RTS options to control the garbage collector</em></a>.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--Rghc-timing">
<tt class="descname">-Rghc-timing</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--Rghc-timing" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a one-line summary of timing statistics for the GHC run. This
option is equivalent to <tt class="docutils literal"><span class="pre">+RTS</span> <span class="pre">-tstderr</span></tt>, see
<a class="reference internal" href="runtime_control.html#rts-options-gc"><em>RTS options to control the garbage collector</em></a>.</p>
</dd></dl>

</div>
<div class="section" id="platform-specific-flags">
<span id="options-platform"></span><h2>7.1.7. Platform-specific Flags<a class="headerlink" href="using.html#platform-specific-flags" title="Permalink to this headline">¶</a></h2>
<p id="index-19">Some flags only make sense for particular target platforms.</p>
<dl class="ghc-flag">
<dt id="ghc-flag--msse2">
<tt class="descname">-msse2</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--msse2" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only, added in GHC 7.0.1) Use the SSE2 registers and
instruction set to implement floating point operations when using
the <a class="reference internal" href="codegens.html#native-code-gen"><em>native code generator</em></a>. This gives a
substantial performance improvement for floating point, but the
resulting compiled code will only run on processors that support
SSE2 (Intel Pentium 4 and later, or AMD Athlon 64 and later). The
<a class="reference internal" href="codegens.html#llvm-code-gen"><em>LLVM backend</em></a> will also use SSE2 if your
processor supports it but detects this automatically so no flag is
required.</p>
<p>SSE2 is unconditionally used on x86-64 platforms.</p>
</dd></dl>

<dl class="ghc-flag">
<dt id="ghc-flag--msse4.2">
<tt class="descname">-msse4.2</tt><tt class="descclassname"></tt><a class="headerlink" href="using.html#ghc-flag--msse4.2" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only, added in GHC 7.4.1) Use the SSE4.2 instruction set to
implement some floating point and bit operations when using the
<a class="reference internal" href="codegens.html#native-code-gen"><em>native code generator</em></a>. The resulting compiled
code will only run on processors that support SSE4.2 (Intel Core i7
and later). The <a class="reference internal" href="codegens.html#llvm-code-gen"><em>LLVM backend</em></a> will also use
SSE4.2 if your processor supports it but detects this automatically
so no flag is required.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="using-warnings.html" title="7.2. Warnings and sanity-checking"
             >next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="7. Using GHC"
             >previous</a> |</li>
        <li><a href="index.html">GHC 8.2.2 User&#39;s Guide</a> &raquo;</li>
          <li><a href="usage.html" >7. Using GHC</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, GHC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>